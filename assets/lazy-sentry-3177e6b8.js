var Ac=Object.defineProperty,Nc=Object.defineProperties;var Lc=Object.getOwnPropertyDescriptors;var un=Object.getOwnPropertySymbols;var js=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable;var Us=(t,e,n)=>e in t?Ac(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p=(t,e)=>{for(var n in e||(e={}))js.call(e,n)&&Us(t,n,e[n]);if(un)for(var n of un(e))zs.call(e,n)&&Us(t,n,e[n]);return t},I=(t,e)=>Nc(t,Lc(e));var ln=(t,e)=>{var n={};for(var r in t)js.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&un)for(var r of un(t))e.indexOf(r)<0&&zs.call(t,r)&&(n[r]=t[r]);return n};var A=(t,e,n)=>new Promise((r,s)=>{var i=c=>{try{a(n.next(c))}catch(u){s(u)}},o=c=>{try{a(n.throw(c))}catch(u){s(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(t,e)).next())});import{R as Pc}from"./index-3b4ff5e0.js";const no=Object.prototype.toString;function ro(t){switch(no.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return De(t,Error)}}function wt(t,e){return no.call(t)===`[object ${e}]`}function ns(t){return wt(t,"ErrorEvent")}function Ws(t){return wt(t,"DOMError")}function Fc(t){return wt(t,"DOMException")}function Ie(t){return wt(t,"String")}function rs(t){return t===null||typeof t!="object"&&typeof t!="function"}function _t(t){return wt(t,"Object")}function zn(t){return typeof Event!="undefined"&&De(t,Event)}function $c(t){return typeof Element!="undefined"&&De(t,Element)}function Bc(t){return wt(t,"RegExp")}function kt(t){return!!(t&&t.then&&typeof t.then=="function")}function Hc(t){return _t(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function so(t){return typeof t=="number"&&t!==t}function De(t,e){try{return t instanceof e}catch(n){return!1}}function io(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function mt(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function qs(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{io(s)?n.push("[VueViewModel]"):n.push(String(s))}catch(i){n.push("[value cannot be serialized]")}}return n.join(e)}function Uc(t,e,n=!1){return Ie(t)?Bc(e)?e.test(t):Ie(e)?n?t===e:t.includes(e):!1:!1}function It(t,e=[],n=!1){return e.some(r=>Uc(t,r,n))}function oo(t,e,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!De(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=jc(wr(t,e,s,o.originalException,r,i.exception.values,a,0),n))}function wr(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(De(r[s],Error)){Gs(o,a);const u=t(e,r[s]),l=c.length;Ys(u,s,l,a),c=wr(t,e,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(De(u,Error)){Gs(o,a);const d=t(e,u),f=c.length;Ys(d,`errors[${l}]`,f,a),c=wr(t,e,n,u,s,[d,...c],d,f)}}),c}function Gs(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=I(p({},t.mechanism),{is_exception_group:!0,exception_id:e})}function Ys(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=I(p({},t.mechanism),{type:"chained",source:e,exception_id:n,parent_id:r})}function jc(t,e){return t.map(n=>(n.value&&(n.value=mt(n.value,e)),n))}function dn(t){return t&&t.Math==Math?t:void 0}const P=typeof globalThis=="object"&&dn(globalThis)||typeof window=="object"&&dn(window)||typeof self=="object"&&dn(self)||typeof global=="object"&&dn(global)||function(){return this}()||{};function Wn(){return P}function ao(t,e,n){const r=n||P,s=r.__SENTRY__=r.__SENTRY__||{};return s[t]||(s[t]=e())}const Tn=Wn(),zc=80;function ze(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||zc;for(;n&&i++<r&&(u=Wc(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch(n){return"<unknown>"}}function Wc(t,e){const n=t,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Ie(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function co(){try{return Tn.document.location.href}catch(t){return""}}function qc(t){return Tn.document&&Tn.document.querySelector?Tn.document.querySelector(t):null}const Rt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Gc="Sentry Logger ",kr=["debug","info","warn","error","log","assert","trace"],Cn={};function Xe(t){if(!("console"in P))return t();const e=P.console,n={},r=Object.keys(Cn);r.forEach(s=>{const i=Cn[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function Yc(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Rt?kr.forEach(n=>{e[n]=(...r)=>{t&&Xe(()=>{P.console[n](`${Gc}[${n}]:`,...r)})}}):kr.forEach(n=>{e[n]=()=>{}}),e}const m=Yc(),Vc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Kc(t){return t==="http"||t==="https"}function nn(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function uo(t){const e=Vc.exec(t);if(!e){Xe(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i,o="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return lo({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function lo(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Xc(t){if(!Rt)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(m.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Kc(r)?e&&isNaN(parseInt(e,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function fo(t){const e=typeof t=="string"?uo(t):lo(t);if(!(!e||!Xc(e)))return e}class ke extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ie(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&ho(s,r),t[e]=s}function Kt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(r){Rt&&m.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ho(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Kt(t,"__sentry_original__",e)}catch(n){}}function ss(t){return t.__sentry_original__}function Jc(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function po(t){if(ro(t))return p({message:t.message,name:t.name,stack:t.stack},Ks(t));if(zn(t)){const e=p({type:t.type,target:Vs(t.target),currentTarget:Vs(t.currentTarget)},Ks(t));return typeof CustomEvent!="undefined"&&De(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Vs(t){try{return $c(t)?ze(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function Ks(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Zc(t,e=40){const n=Object.keys(po(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return mt(n[0],e);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>e))return r===n.length?s:mt(s,e)}return""}function Se(t){return Ir(t,new Map)}function Ir(t,e){if(_t(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.keys(t))typeof t[s]!="undefined"&&(r[s]=Ir(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(Ir(s,e))}),r}return t}const mo=50,Xs=/\(error: (.*)\)/,Js=/captureMessage|captureException/;function go(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=Xs.test(a)?a.replace(Xs,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of e){const l=u(c);if(l){s.push(l);break}}if(s.length>=mo)break}}return eu(s)}}function Qc(t){return Array.isArray(t)?go(...t):t}function eu(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Js.test(e[e.length-1].function||"")&&(e.pop(),Js.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,mo).map(n=>I(p({},n),{filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}const dr="<anonymous>";function Ae(t){try{return!t||typeof t!="function"?dr:t.name||dr}catch(e){return dr}}const wn={},Zs={};function Qe(t,e){wn[t]=wn[t]||[],wn[t].push(e)}function et(t,e){Zs[t]||(e(),Zs[t]=!0)}function be(t,e){const n=t&&wn[t];if(n)for(const r of n)try{r(e)}catch(s){Rt&&m.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ae(r)}
Error:`,s)}}function tu(t){const e="console";Qe(e,t),et(e,nu)}function nu(){"console"in P&&kr.forEach(function(t){t in P.console&&ie(P.console,t,function(e){return Cn[t]=e,function(...n){be("console",{args:n,level:t});const s=Cn[t];s&&s.apply(P.console,n)}})})}function oe(){const t=P,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>e.getRandomValues(new Uint8Array(1))[0])}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function _o(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function $e(t){const{message:e,event_id:n}=t;if(e)return e;const r=_o(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Rr(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function Xt(t,e){const n=_o(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism=p(p(p({},r),s),e),e&&"data"in e){const i=p(p({},s&&s.data),e.data);n.mechanism.data=i}}function Qs(t){if(t&&t.__sentry_captured__)return!0;try{Kt(t,"__sentry_captured__",!0)}catch(e){}return!1}function yo(t){return Array.isArray(t)?t:[t]}const ct=P,ru=1e3;let ei,Cr,xr;function So(t){const e="dom";Qe(e,t),et(e,su)}function su(){if(!ct.document)return;const t=be.bind(null,"dom"),e=ti(t,!0);ct.document.addEventListener("click",e,!1),ct.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=ct[n]&&ct[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ie(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=ti(t);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch(c){}return s.call(this,i,o,a)}}),ie(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return s.call(this,i,o,a)}}))})}function iu(t){if(t.type!==Cr)return!1;try{if(!t.target||t.target._sentryId!==xr)return!1}catch(e){}return!0}function ou(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function ti(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=au(n);if(ou(n.type,r))return;Kt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Kt(r,"_sentryId",oe());const s=n.type==="keypress"?"input":n.type;iu(n)||(t({event:n,name:s,global:e}),Cr=n.type,xr=r?r._sentryId:void 0),clearTimeout(ei),ei=ct.setTimeout(()=>{xr=void 0,Cr=void 0},ru)}}function au(t){try{return t.target}catch(e){return null}}const Or=Wn();function bo(){if(!("fetch"in Or))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function Mr(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function cu(){if(typeof EdgeRuntime=="string")return!0;if(!bo())return!1;if(Mr(Or.fetch))return!0;let t=!1;const e=Or.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Mr(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Rt&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function is(t){const e="fetch";Qe(e,t),et(e,uu)}function uu(){cu()&&ie(P,"fetch",function(t){return function(...e){const{method:n,url:r}=lu(e),s={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return be("fetch",p({},s)),t.apply(P,e).then(i=>{const o=I(p({},s),{endTimestamp:Date.now(),response:i});return be("fetch",o),i},i=>{const o=I(p({},s),{endTimestamp:Date.now(),error:i});throw be("fetch",o),i})}})}function Dr(t,e){return!!t&&typeof t=="object"&&!!t[e]}function ni(t){return typeof t=="string"?t:t?Dr(t,"url")?t.url:t.toString?t.toString():"":""}function lu(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:ni(n),method:Dr(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:ni(e),method:Dr(e,"method")?String(e.method).toUpperCase():"GET"}}let fn=null;function Eo(t){const e="error";Qe(e,t),et(e,du)}function du(){fn=P.onerror,P.onerror=function(t,e,n,r,s){return be("error",{column:r,error:s,line:n,msg:t,url:e}),fn&&!fn.__SENTRY_LOADER__?fn.apply(this,arguments):!1},P.onerror.__SENTRY_INSTRUMENTED__=!0}let hn=null;function vo(t){const e="unhandledrejection";Qe(e,t),et(e,fu)}function fu(){hn=P.onunhandledrejection,P.onunhandledrejection=function(t){return be("unhandledrejection",t),hn&&!hn.__SENTRY_LOADER__?hn.apply(this,arguments):!0},P.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const pn=Wn();function hu(){const t=pn.chrome,e=t&&t.app&&t.app.runtime,n="history"in pn&&!!pn.history.pushState&&!!pn.history.replaceState;return!e&&n}const Ut=P;let mn;function qn(t){const e="history";Qe(e,t),et(e,pu)}function pu(){if(!hu())return;const t=Ut.onpopstate;Ut.onpopstate=function(...n){const r=Ut.location.href,s=mn;if(mn=r,be("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch(o){}};function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=mn,o=String(s);mn=o,be("history",{from:i,to:o})}return n.apply(this,r)}}ie(Ut.history,"pushState",e),ie(Ut.history,"replaceState",e)}const mu=P,Be="__sentry_xhr_v3__";function os(t){const e="xhr";Qe(e,t),et(e,gu)}function gu(){if(!mu.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;ie(t,"open",function(e){return function(...n){const r=Date.now(),s=Ie(n[0])?n[0].toUpperCase():void 0,i=_u(n[1]);if(!s||!i)return;this[Be]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Be];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};be("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ie(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),ie(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[Be];return d&&Ie(u)&&Ie(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),e.apply(this,n)}}),ie(t,"send",function(e){return function(...n){const r=this[Be];if(!r)return;n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return be("xhr",s),e.apply(this,n)}})}function _u(t){if(Ie(t))return t;try{return t.toString()}catch(e){}}function yu(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function Su(){return"npm"}function as(){return!yu()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function He(t,e){return t.require(e)}function bu(t){let e;try{e=He(module,t)}catch(n){}try{const{cwd:n}=He(module,"process");e=He(module,`${n()}/node_modules/${t}`)}catch(n){}return e}function Ar(){return typeof window!="undefined"&&(!as()||Eu())}function Eu(){return P.process!==void 0&&P.process.type==="renderer"}function vu(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}function r(s){if(t)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return[n,r]}function we(t,e=100,n=1/0){try{return Nr("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function To(t,e=3,n=100*1024){const r=we(t,e);return Iu(r)>n?To(t,e-1,n):r}function Nr(t,e,n=1/0,r=1/0,s=vu()){const[i,o]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!so(e))return e;const a=Tu(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const h=u.toJSON();return Nr("",h,c-1,r,s)}catch(h){}const l=Array.isArray(e)?[]:{};let d=0;const f=po(e);for(const h in f){if(!Object.prototype.hasOwnProperty.call(f,h))continue;if(d>=r){l[h]="[MaxProperties ~]";break}const g=f[h];l[h]=Nr(h,g,c-1,r,s),d++}return o(e),l}function Tu(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&e===global)return"[Global]";if(typeof window!="undefined"&&e===window)return"[Window]";if(typeof document!="undefined"&&e===document)return"[Document]";if(io(e))return"[VueViewModel]";if(Hc(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${Ae(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=wu(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function wu(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function ku(t){return~-encodeURI(t).split(/%..|./).length}function Iu(t){return ku(JSON.stringify(t))}var xe;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(xe||(xe={}));function Je(t){return new pe(e=>{e(t)})}function cs(t){return new pe((e,n)=>{n(t)})}class pe{constructor(e){pe.prototype.__init.call(this),pe.prototype.__init2.call(this),pe.prototype.__init3.call(this),pe.prototype.__init4.call(this),this._state=xe.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new pe((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new pe((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(xe.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(xe.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===xe.PENDING){if(kt(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===xe.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===xe.RESOLVED&&n[1](this._value),this._state===xe.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Ru(t){const e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]}function s(o){if(!n())return cs(new ke("Not adding Promise because buffer limit was reached."));const a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new pe((a,c)=>{let u=e.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(d=>{Je(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:e,add:s,drain:i}}function fr(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const Cu=["fatal","error","warning","log","info","debug"];function xu(t){return t==="warn"?"warning":Cu.includes(t)?t:"log"}const wo=Wn(),Lr={nowSeconds:()=>Date.now()/1e3};function Ou(){const{performance:t}=wo;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function Mu(){try{return He(module,"perf_hooks").performance}catch(t){return}}const hr=as()?Mu():Ou(),ri=hr===void 0?Lr:{nowSeconds:()=>(hr.timeOrigin+hr.now())/1e3},Gn=Lr.nowSeconds.bind(Lr),We=ri.nowSeconds.bind(ri),ge=(()=>{const{performance:t}=wo;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):e,u=c<e;return i||u?s<=c?t.timeOrigin:o:r})(),Pr="baggage",ko="sentry-",Du=/^sentry-/,Au=8192;function Nu(t){if(!Ie(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((r,s)=>{const i=si(s);return p(p({},r),i)},{});else{if(!t)return;e=si(t)}const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(Du)){const o=s.slice(ko.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Fr(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,s])=>(s&&(n[`${ko}${r}`]=s),n),{});return Lu(e)}function si(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(e[n]=r,e),{})}function Lu(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${e},${i}`;return o.length>Au?(Rt&&m.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o},"")}const Pu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Io(t){if(!t)return;const e=t.match(Pu);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function Ro(t,e){const n=Io(t),r=Nu(e),{traceId:s,parentSpanId:i,parentSampled:o}=n||{},a={traceId:s||oe(),spanId:oe().substring(16),sampled:o};return i&&(a.parentSpanId=i),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function us(t=oe(),e=oe().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function Ct(t,e=[]){return[t,e]}function Fu(t,e){const[n,r]=t;return[n,[...r,e]]}function yt(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}function $u(t,e){return yt(t,(n,r)=>e.includes(r))}function $r(t,e){return(e||new TextEncoder).encode(t)}function Co(t,e){const[n,r]=t;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[$r(s,e),o]:s.push(typeof o=="string"?$r(o,e):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch(l){u=JSON.stringify(we(c))}i(u)}}return typeof s=="string"?s:Bu(s)}function Bu(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Hu(t,e,n){let r=typeof t=="string"?e.encode(t):t;function s(c){const u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(s(c)))}const o=i(),a=[];for(;r.length;){const c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?s(u):i()])}return[o,a]}function Uu(t,e){const n=typeof t.data=="string"?$r(t.data,e):t.data;return[Se({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const ju={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function ii(t){return ju[t]}function ls(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function xo(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return p(p(p({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!n&&r&&{dsn:nn(r)}),s&&{trace:Se(p({},s))})}function zu(t,e,n){const r=[{type:"client_report"},{timestamp:n||Gn(),discarded_events:t}];return Ct(e?{dsn:e}:{},[r])}const Wu=60*1e3;function Oo(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?Wu:r-e}function qu(t,e){return t[e]||t.all||0}function Mo(t,e,n=Date.now()){return qu(t,e)>n}function Do(t,{statusCode:e,headers:n},r=Date.now()){const s=p({},t),i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u]=a.split(":",2),l=parseInt(c,10),d=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+d;else for(const f of u.split(";"))s[f]=r+d}else o?s.all=r+Oo(o,r):e===429&&(s.all=r+60*1e3);return s}function Gu(t,e){return t(e.stack||"",1)}function Yu(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=Gu(t,e);return r.length&&(n.stacktrace={frames:r}),n}const k=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Yn="production";function ds(){return ao("globalEventProcessors",()=>[])}function Ao(t){ds().push(t)}function xn(t,e,n,r=0){return new pe((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o(p({},e),n);k&&o.id&&a===null&&m.log(`Event processor "${o.id}" dropped event`),kt(a)?a.then(c=>xn(t,c,n,r+1).then(s)).then(null,i):xn(t,a,n,r+1).then(s).then(null,i)}})}function Vu(t){const e=We(),n={sid:oe(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Xu(n)};return t&&St(n,t),n}function St(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||We(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:oe()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Ku(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),St(t,n)}function Xu(t){return Se({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Ju=100;class Me{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=oi()}static clone(e){const n=new Me;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags=p({},e._tags),n._extra=p({},e._extra),n._contexts=p({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments],n._sdkProcessingMetadata=p({},e._sdkProcessingMetadata),n._propagationContext=p({},e._propagationContext)),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&St(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags=p(p({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,n){return this._tags=I(p({},this._tags),{[e]:n}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=p(p({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,n){return this._extra=I(p({},this._extra),{[e]:n}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const n=e(this);return n instanceof Me?n:this}return e instanceof Me?(this._tags=p(p({},this._tags),e._tags),this._extra=p(p({},this._extra),e._extra),this._contexts=p(p({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):_t(e)&&(e=e,this._tags=p(p({},this._tags),e.tags),this._extra=p(p({},this._extra),e.extra),this._contexts=p(p({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=oi(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:Ju;if(r<=0)return this;const s=p({timestamp:Gn()},e),i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={},r){if(this._extra&&Object.keys(this._extra).length&&(e.extra=p(p({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=p(p({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=p(p({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=p(p({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=p({trace:this._span.getTraceContext()},e.contexts);const o=this._span.transaction;if(o){e.sdkProcessingMetadata=p({dynamicSamplingContext:o.getDynamicSamplingContext()},e.sdkProcessingMetadata);const a=o.name;a&&(e.tags=p({transaction:a},e.tags))}}this._applyFingerprint(e);const s=this._getBreadcrumbs(),i=[...e.breadcrumbs||[],...s];return e.breadcrumbs=i.length>0?i:void 0,e.sdkProcessingMetadata=I(p(p({},e.sdkProcessingMetadata),this._sdkProcessingMetadata),{propagationContext:this._propagationContext}),xn([...r||[],...ds(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=p(p({},this._sdkProcessingMetadata),e),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?yo(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function oi(){return{traceId:oe(),spanId:oe().substring(16)}}const No=4,Zu=100;class fs{constructor(e,n=new Me,r=No){this._version=r,this._stack=[{scope:n}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=Me.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:oe(),s=new Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(e,I(p({originalException:e,syntheticException:s},n),{event_id:r}),o)}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:oe(),i=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,n,I(p({originalException:e,syntheticException:i},r),{event_id:s}),a)}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:oe();return e.type||(this._lastEventId=r),this._withClient((s,i)=>{s.captureEvent(e,I(p({},n),{event_id:r}),i)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Zu}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const a=Gn(),c=p({timestamp:a},e),u=i?Xe(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=Br(this);try{e(this)}finally{Br(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch(r){return k&&m.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return k&&!r&&(this.getClient()?m.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):m.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Ku(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Yn}=r&&r.getOptions()||{},{userAgent:o}=P.navigator||{},a=Vu(p(p({release:s,environment:i,user:n.getUser()},o&&{userAgent:o}),e)),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&St(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(e){const{scope:n,client:r}=this.getStackTop();r&&e(r,n)}_callExtensionMethod(e,...n){const s=xt().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);k&&m.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function xt(){return P.__SENTRY__=P.__SENTRY__||{extensions:{},hub:void 0},P}function Br(t){const e=xt(),n=On(e);return Lo(e,t),n}function C(){const t=xt();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Qu(t)}function Qu(t=xt()){return(!el(t)||On(t).isOlderThan(No))&&Lo(t,new fs),On(t)}function el(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function On(t){return ao("hub",()=>new fs,t)}function Lo(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function tt(t){return(t||C()).getScope().getTransaction()}const tl=Io;let ai=!1;function nl(){ai||(ai=!0,Eo(Hr),vo(Hr))}function Hr(){const t=tt();if(t){const e="internal_error";k&&m.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Hr.tag="sentry_tracingErrorCallback";class Po{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class hs{constructor(e={}){this.traceId=e.traceId||oe(),this.spanId=e.spanId||oe().substring(16),this.startTimestamp=e.startTimestamp||We(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this.description||""}set name(e){this.setName(e)}startChild(e){const n=new hs(I(p({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,k&&n.transaction){const r=e&&e.op||"< unknown op >",s=n.transaction.name||"< unknown name >",i=n.transaction.spanId,o=`[Tracing] Starting '${r}' span on transaction '${s}' (${i}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},m.log(o)}return n}setTag(e,n){return this.tags=I(p({},this.tags),{[e]:n}),this}setData(e,n){return this.data=I(p({},this.data),{[e]:n}),this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const n=Fo(e);return n!=="unknown_error"&&this.setStatus(n),this}setName(e){this.description=e}isSuccess(){return this.status==="ok"}finish(e){if(k&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&m.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:We()}toTraceparent(){return us(this.traceId,this.spanId,this.sampled)}toContext(){return Se({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return Se({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return Se({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function Fo(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Vn(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=Se({environment:r.environment||Yn,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}class $o extends hs{constructor(e,n){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=n||C(),this._name=e.name||"",this.metadata=I(p({source:"custom"},e.metadata),{spanMetadata:{}}),this._trimEnd=e.trimEnd,this.transaction=this;const r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext=p({},r))}get name(){return this._name}set name(e){this.setName(e)}setName(e,n="custom"){this._name=e,this.metadata.source=n}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Po(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this.metadata=p(p({},this.metadata),e)}finish(e){const n=this._finishTransaction(e);if(n)return this._hub.captureEvent(n)}toContext(){const e=super.toContext();return Se(I(p({},e),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||C(),n=e.getClient();if(!n)return{};const r=e.getScope(),s=Vn(this.traceId,n,r),i=this.metadata.sampleRate;i!==void 0&&(s.sample_rate=`${i}`);const o=this.metadata.source;return o&&o!=="url"&&(s.transaction=this.name),this.sampled!==void 0&&(s.sampled=String(this.sampled)),s}setHub(e){this._hub=e}_finishTransaction(e){if(this.endTimestamp!==void 0)return;this.name||(k&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){k&&m.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);const s=this.metadata,i=p({contexts:I(p({},this._contexts),{trace:this.getTraceContext()}),spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:I(p({},s),{dynamicSamplingContext:this.getDynamicSamplingContext()})},s.source&&{transaction_info:{source:s.source}});return Object.keys(this._measurements).length>0&&(k&&m.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),k&&m.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),i}}const kn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},rl="finishReason",it=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class sl extends Po{constructor(e,n,r,s){super(s),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=r}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:We(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class il extends $o{constructor(e,n,r=kn.idleTimeout,s=kn.finalTimeout,i=kn.heartbeatInterval,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=it[4],o&&(k&&m.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=it[3],this.finish())},this._finalTimeout)}finish(e=We()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(rl,this._finishReason),this.spanRecorder){k&&m.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=e,n.setStatus("cancelled"),k&&m.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const r=n.startTimestamp<e,s=(this._finalTimeout+this._idleTimeout)/1e3,i=n.endTimestamp-this.startTimestamp<s;if(k){const o=JSON.stringify(n,void 0,2);r?i||m.log("[Tracing] discarding Span since it finished after Transaction final timeout",o):m.log("[Tracing] discarding Span since it happened after Transaction was finished",o)}return r&&i}),k&&m.log("[Tracing] flushing IdleTransaction")}else k&&m.log("[Tracing] No active IdleTransaction");if(this._onScope){const n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new sl(n,r,this.spanId,e),k&&m.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=it[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=it[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),k&&m.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,k&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(k&&m.log(`[Tracing] popActivity ${e}`),delete this.activities[e],k&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=We();this._idleTimeoutCanceledPermanently?(this._finishReason=it[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(k&&m.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=it[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){k&&m.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function ps(t,e,n,r,s){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=t,a=I(p({},e),{event_id:e.event_id||n.event_id||oe(),timestamp:e.timestamp||Gn()}),c=n.integrations||t.integrations.map(f=>f.name);ol(a,t),ul(a,c),e.type===void 0&&al(a,t.stackParser);let u=r;n.captureContext&&(u=Me.clone(u).update(n.captureContext)),n.mechanism&&Xt(a,n.mechanism);let l=Je(a);const d=s&&s.getEventProcessors?s.getEventProcessors():[];if(u){if(u.getAttachments){const f=[...n.attachments||[],...u.getAttachments()];f.length&&(n.attachments=f)}l=u.applyToEvent(a,n,d)}else l=xn([...d,...ds()],a,n);return l.then(f=>(f&&cl(f),typeof i=="number"&&i>0?ll(f,i,o):f))}function ol(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:Yn),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=mt(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=mt(o.value,i));const a=t.request;a&&a.url&&(a.url=mt(a.url,i))}const ci=new WeakMap;function al(t,e){const n=P._sentryDebugIds;if(!n)return;let r;const s=ci.get(e);s?r=s:(r=new Map,ci.set(e,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=e(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch(o){}}function cl(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch(r){}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function ul(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function ll(t,e,n){if(!t)return null;const r=p(p(p(p(p({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>p(p({},s),s.data&&{data:we(s.data,e,n)}))}),t.user&&{user:we(t.user,e,n)}),t.contexts&&{contexts:we(t.contexts,e,n)}),t.extra&&{extra:we(t.extra,e,n)});return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=we(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>(s.data&&(s.data=we(s.data,e,n)),s))),r}function dl(t){if(t)return fl(t)?{captureContext:t}:pl(t)?{captureContext:t}:t}function fl(t){return t instanceof Me||typeof t=="function"}const hl=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function pl(t){return Object.keys(t).some(e=>hl.includes(e))}function Kn(t,e){return C().captureException(t,dl(e))}function ml(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return C().captureMessage(t,n,r)}function gl(t,e){return C().captureEvent(t,e)}function _l(t){C().configureScope(t)}function yl(t){C().addBreadcrumb(t)}function Bo(t,e){C().setContext(t,e)}function Sl(t){C().setExtras(t)}function bl(t,e){C().setExtra(t,e)}function El(t){C().setTags(t)}function vl(t,e){C().setTag(t,e)}function Tl(t){C().setUser(t)}function Ho(t){C().withScope(t)}function wl(t,e){return C().startTransaction(p({},t),e)}function kl(t){return A(this,null,function*(){const e=fe();return e?e.flush(t):(k&&m.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function Il(t){return A(this,null,function*(){const e=fe();return e?e.close(t):(k&&m.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function Rl(){return C().lastEventId()}function fe(){return C().getClient()}function rn(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=fe(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Uo(t,e,n){if(!rn(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate!="undefined"?(r=e.tracesSampleRate,t.setMetadata({sampleRate:Number(r)})):(r=1,t.setMetadata({sampleRate:r})),Cl(r)?r?(t.sampled=Math.random()<r,t.sampled?(k&&m.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(k&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(k&&m.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(k&&m.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Cl(t){return so(t)||!(typeof t=="number"||typeof t=="boolean")?(k&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(k&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function xl(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function Ol(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&(k&&m.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new $o(t,this);return o=Uo(o,r,p({parentSampled:t.parentSampled,transactionContext:t},e)),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function ui(t,e,n,r,s,i,o){const a=t.getClient(),c=a&&a.getOptions()||{};let u=new il(e,t,n,r,o,s);return u=Uo(u,c,p({parentSampled:e.parentSampled,transactionContext:e},i)),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function ms(){const t=xt();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Ol),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=xl),nl())}function Ml(t,e,n=()=>{}){const r=_s(t),s=C(),i=s.getScope(),o=i.getSpan(),a=gs(s,o,r);i.setSpan(a);function c(){a&&a.finish(),s.getScope().setSpan(o)}let u;try{u=e(a)}catch(l){throw a&&a.setStatus("internal_error"),n(l),c(),l}return kt(u)?Promise.resolve(u).then(()=>{c()},l=>{a&&a.setStatus("internal_error"),n(l),c()}):c(),u}function Dl(t,e){const n=_s(t),r=C(),s=r.getScope(),i=s.getSpan(),o=gs(r,i,n);s.setSpan(o);function a(){o&&o.finish(),r.getScope().setSpan(i)}let c;try{c=e(o)}catch(u){throw o&&o.setStatus("internal_error"),a(),u}return kt(c)?Promise.resolve(c).then(()=>{a()},()=>{o&&o.setStatus("internal_error"),a()}):a(),c}function Al(t,e){const n=_s(t),r=C(),s=r.getScope(),i=s.getSpan(),o=gs(r,i,n);s.setSpan(o);function a(){o&&o.finish(),r.getScope().setSpan(i)}let c;try{c=e(o,a)}catch(u){throw o&&o.setStatus("internal_error"),u}return kt(c)&&Promise.resolve(c).then(void 0,()=>{o&&o.setStatus("internal_error")}),c}function Nl(t){if(!rn())return;const e=p({},t);e.name!==void 0&&e.description===void 0&&(e.description=e.name);const n=C(),r=jo();return r?r.startChild(e):n.startTransaction(e)}function jo(){return C().getScope().getSpan()}function Ll({sentryTrace:t,baggage:e},n){const s=C().getScope(),{traceparentData:i,dynamicSamplingContext:o,propagationContext:a}=Ro(t,e);s.setPropagationContext(a),k&&i&&m.log(`[Tracing] Continuing trace ${i.traceId}.`);const c=I(p({},i),{metadata:Se({dynamicSamplingContext:i&&!o?{}:o})});return n?n(c):c}function gs(t,e,n){if(rn())return e?e.startChild(n):t.startTransaction(n)}function _s(t){const e=p({},t);return e.name!==void 0&&e.description===void 0&&(e.description=e.name),e}function Pl(t,e,n){const r=tt();r&&r.setMeasurement(t,e,n)}function Fl(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function $l(t,e,n,r){const s=ls(n),i=p(p({sent_at:new Date().toISOString()},s&&{sdk:s}),!!r&&e&&{dsn:nn(e)}),o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Ct(i,[o])}function zo(t,e,n,r){const s=ls(n),i=t.type&&t.type!=="replay_event"?t.type:"event";Fl(t,n&&n.sdk);const o=xo(t,s,r,e);return delete t.sdkProcessingMetadata,Ct(o,[[{type:i},t]])}const Bl="7";function Wo(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Hl(t){return`${Wo(t)}${t.projectId}/envelope/`}function Ul(t,e){return Jc(p({sentry_key:t.publicKey,sentry_version:Bl},e&&{sentry_client:`${e.name}/${e.version}`}))}function qo(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Hl(t)}?${Ul(t,r)}`}function jl(t,e){const n=fo(t);if(!n)return"";const r=`${Wo(n)}embed/error-page/`;let s=`dsn=${nn(n)}`;for(const i in e)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=e.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`;return`${r}?${s}`}const li=[];function zl(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.keys(e).map(n=>e[n])}function Wl(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=yo(n(e)):r=e;const s=zl(r),i=Yl(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function ql(t,e){const n={};return e.forEach(r=>{r&&Go(t,r,n)}),n}function Go(t,e,n){if(n[e.name]=e,li.indexOf(e.name)===-1&&(e.setupOnce(Ao,C),li.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,o)=>r(i,o,t),{id:e.name});t.addEventProcessor(s)}k&&m.log(`Integration installed: ${e.name}`)}function Gl(t){const e=fe();if(!e||!e.addIntegration){k&&m.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`);return}e.addIntegration(t)}function Yl(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}const di="Not capturing exception because it's already been captured.";class Vl{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=fo(e.dsn):k&&m.warn("No DSN provided, client will not send events."),this._dsn){const n=qo(this._dsn,e);this._transport=e.transport(I(p({recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:n}))}}captureException(e,n,r){if(Qs(e)){k&&m.log(di);return}let s=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(e,n,r,s){let i=r&&r.event_id;const o=rs(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(o.then(a=>this._captureEvent(a,r,s)).then(a=>{i=a})),i}captureEvent(e,n,r){if(n&&n.originalException&&Qs(n.originalException)){k&&m.log(di);return}let s=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(i=>{s=i})),s}captureSession(e){typeof e.release!="string"?k&&m.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),St(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s)):Je(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=ql(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(n){return k&&m.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Go(this,e,this._integrations)}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=zo(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Fu(r,Uu(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=$l(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=`${e}:${n}`;k&&m.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_updateSessionFromEvent(e,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(St(e,I(p({},r&&{status:"crashed"}),{errors:e.errors||Number(s||r)})),this.captureSession(e))}_isClientDoneProcessing(e){return new pe(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,e&&r>=e&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r){const s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",e,n),ps(s,e,n,r,this).then(o=>{if(o===null)return o;const{propagationContext:a}=o.sdkProcessingMetadata||{};if(!(o.contexts&&o.contexts.trace)&&a){const{traceId:u,spanId:l,parentSpanId:d,dsc:f}=a;o.contexts=p({trace:{trace_id:u,span_id:l,parent_span_id:d}},o.contexts);const h=f||Vn(u,this,r);o.sdkProcessingMetadata=p({dynamicSamplingContext:h},o.sdkProcessingMetadata)}return o})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{if(k){const i=s;i.logLevel==="log"?m.log(i.message):m.warn(i)}})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Vo(e),a=Yo(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),cs(new ke(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c;return this._prepareEvent(e,n,r).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",l,e),new ke("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return d;const h=Xl(s,d,n);return Kl(h,u)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",l,e),new ke(`${u} returned \`null\`, will not send event.`,"log");const f=r&&r.getSession();!o&&f&&this._updateSessionFromEvent(f,d);const h=d.transaction_info;if(o&&h&&d.transaction!==e.transaction){const g="custom";d.transaction_info=I(p({},h),{source:g})}return this.sendEvent(d,n),d}).then(null,d=>{throw d instanceof ke?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new ke(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,n=>{k&&m.error("Error while sending event:",n)});k&&m.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:e[n]}})}}function Kl(t,e){const n=`${e} must return \`null\` or a valid event.`;if(kt(t))return t.then(r=>{if(!_t(r)&&r!==null)throw new ke(n);return r},r=>{throw new ke(`${e} rejected with ${r}`)});if(!_t(t)&&t!==null)throw new ke(n);return t}function Xl(t,e,n){const{beforeSend:r,beforeSendTransaction:s}=t;return Yo(e)&&r?r(e,n):Vo(e)&&s?s(e,n):e}function Yo(t){return t.type===void 0}function Vo(t){return t.type==="transaction"}function Ko(t){const e=C().getClient();!e||!e.addEventProcessor||e.addEventProcessor(t)}function Jl(t,e){e.debug===!0&&(k?m.enable():Xe(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));const n=C();n.getScope().update(e.initialScope);const s=new t(e);n.bindClient(s)}const Zl=30;function ys(t,e,n=Ru(t.bufferSize||Zl)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(yt(o,(d,f)=>{const h=ii(f);if(Mo(r,h)){const g=fi(d,f);t.recordDroppedEvent("ratelimit_backoff",h,g)}else a.push(d)}),a.length===0)return Je();const c=Ct(o[0],a),u=d=>{yt(c,(f,h)=>{const g=fi(f,h);t.recordDroppedEvent(d,ii(h),g)})},l=()=>e({body:Co(c,t.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&k&&m.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Do(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof ke)return k&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),Je();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function fi(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const Ql=100,hi=5e3,ed=36e5;function pr(t,e){k&&m.info(`[Offline]: ${t}`,e)}function td(t){return e=>{const n=t(e),r=e.createStore?e.createStore(e):void 0;let s=hi,i;function o(l,d,f){return $u(l,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(()=>A(this,null,function*(){i=void 0;const d=yield r.pop();d&&(pr("Attempting to send previously queued event"),u(d).catch(f=>{pr("Failed to retry sending",f)}))}),l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(s),s=Math.min(s*2,ed))}function u(l){return A(this,null,function*(){try{const d=yield n.send(l);let f=Ql;if(d){if(d.headers&&d.headers["retry-after"])f=Oo(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),s=hi,d}catch(d){if(r&&(yield o(l,d,s)))return yield r.insert(l),c(),pr("Error sending. Event queued",d),{};throw d}})}return e.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function Xo(t,e){let n;return yt(t,(r,s)=>(e.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function nd(t,e){return n=>{const r=t(n);return{send:s=>A(this,null,function*(){const i=Xo(s,["event","transaction","profile","replay_event"]);return i&&(i.release=e),r.send(s)}),flush:s=>r.flush(s)}}}function rd(t,e){return n=>{const r=t(n),s={};function i(c,u){const l=u?`${c}:${u}`:c;if(!s[l]){const d=uo(c);if(!d)return;const f=qo(d);s[l]=u?nd(t,u)(I(p({},n),{url:f})):t(I(p({},n),{url:f}))}return s[l]}function o(c){return A(this,null,function*(){function u(f){const h=f&&f.length?f:["event"];return Xo(c,h)}const l=e({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(r),(yield Promise.all(l.map(f=>f.send(c))))[0]})}function a(c){return A(this,null,function*(){const u=[...Object.keys(s).map(d=>s[d]),r];return(yield Promise.all(u.map(d=>d.flush(c)))).every(d=>d)})}return{send:o,flush:a}}}const Ur="7.85.0";let pi;class Ot{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=Ot.id}setupOnce(){pi=Function.prototype.toString;try{Function.prototype.toString=function(...e){const n=ss(this)||this;return pi.apply(n,e)}}catch(e){}}}Ot.__initStatic();const sd=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],id=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class Mt{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=Mt.id,this._options=e}setupOnce(e,n){}processEvent(e,n,r){const s=r.getOptions(),i=od(this._options,s);return ad(e,i)?null:e}}Mt.__initStatic();function od(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:sd],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:id],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function ad(t,e){return e.ignoreInternal&&hd(t)?(k&&m.warn(`Event dropped due to being internal Sentry Error.
Event: ${$e(t)}`),!0):cd(t,e.ignoreErrors)?(k&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$e(t)}`),!0):ud(t,e.ignoreTransactions)?(k&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$e(t)}`),!0):ld(t,e.denyUrls)?(k&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$e(t)}.
Url: ${Mn(t)}`),!0):dd(t,e.allowUrls)?!1:(k&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$e(t)}.
Url: ${Mn(t)}`),!0)}function cd(t,e){return t.type||!e||!e.length?!1:fd(t).some(n=>It(n,e))}function ud(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?It(n,e):!1}function ld(t,e){if(!e||!e.length)return!1;const n=Mn(t);return n?It(n,e):!1}function dd(t,e){if(!e||!e.length)return!0;const n=Mn(t);return n?It(n,e):!0}function fd(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(r){}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),k&&e.length===0&&m.error(`Could not extract message for event ${$e(t)}`),e}function hd(t){try{return t.exception.values[0].type==="SentryError"}catch(e){}return!1}function pd(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Mn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(n){}return e?pd(e):null}catch(e){return k&&m.error(`Cannot extract url for event ${$e(t)}`),null}}const md="cause",gd=5;let Jo=class Zo{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this._key=e.key||md,this._limit=e.limit||gd,this.name=Zo.id}setupOnce(){}preprocessEvent(e,n,r){const s=r.getOptions();oo(Yu,s.stackParser,s.maxValueLength,this._key,this._limit,e,n)}};Jo.__initStatic();const _d=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:Ot,InboundFilters:Mt,LinkedErrors:Jo},Symbol.toStringTag,{value:"Module"}));function yd(t,e){const n=e.getClient(),r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return bd(t,r)||Sd(t,s)}function Sd(t,e){return e?mi(t)===mi(e):!1}function bd(t,e){return e?t.includes(e.host):!1}function mi(t){return t[t.length-1]==="/"?t.slice(0,-1):t}const Qo=new Map,gi=new Set;function Ed(t){if(P._sentryModuleMetadata)for(const e of Object.keys(P._sentryModuleMetadata)){const n=P._sentryModuleMetadata[e];if(gi.has(e))continue;gi.add(e);const r=t(e);for(const s of r.reverse())if(s.filename){Qo.set(s.filename,n);break}}}function vd(t,e){return Ed(t),Qo.get(e)}function Td(t,e){try{e.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=vd(t,r.filename);s&&(r.module_metadata=s)}})}catch(n){}}function wd(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[])delete n.module_metadata})}catch(e){}}class Xn{static __initStatic(){this.id="ModuleMetadata"}constructor(){this.name=Xn.id}setupOnce(e,n){const r=n().getClient();if(!r||typeof r.on!="function")return;r.on("beforeEnvelope",i=>{yt(i,(o,a)=>{if(a==="event"){const c=Array.isArray(o)?o[1]:void 0;c&&(wd(c),o[1]=c)}})});const s=r.getOptions().stackParser;e(i=>(Td(s,i),i))}}Xn.__initStatic();const R=P;let jr=0;function ea(){return jr>0}function kd(){jr++,setTimeout(()=>{jr--})}function Ze(t,e={},n){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return s;if(ss(t))return t}catch(s){return t}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(o=>Ze(o,e));return t.apply(this,i)}catch(i){throw kd(),Ho(o=>{o.addEventProcessor(a=>(e.mechanism&&(Rr(a,void 0,void 0),Xt(a,e.mechanism)),a.extra=I(p({},a.extra),{arguments:s}),a)),Kn(i)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch(s){}ho(r,t),Kt(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch(s){}return r}const B=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Ss(t,e){const n=bs(t,e),r={type:e&&e.name,value:xd(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Id(t,e,n,r){const i=C().getClient(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:zn(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Od(e,{isUnhandledRejection:r})}]},extra:{__serialized__:To(e,o)}};if(n){const c=bs(t,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function mr(t,e){return{exception:{values:[Ss(t,e)]}}}function bs(t,e){const n=e.stacktrace||e.stack||"",r=Cd(e);try{return t(n,r)}catch(s){}return[]}const Rd=/Minified React error #\d+;/i;function Cd(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Rd.test(t.message))return 1}return 0}function xd(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function ta(t,e,n,r){const s=n&&n.syntheticException||void 0,i=Es(t,e,s,r);return Xt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Je(i)}function na(t,e,n="info",r,s){const i=r&&r.syntheticException||void 0,o=zr(t,e,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Je(o)}function Es(t,e,n,r,s){let i;if(ns(e)&&e.error)return mr(t,e.error);if(Ws(e)||Fc(e)){const o=e;if("stack"in e)i=mr(t,e);else{const a=o.name||(Ws(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=zr(t,c,n,r),Rr(i,c)}return"code"in o&&(i.tags=I(p({},i.tags),{"DOMException.code":`${o.code}`})),i}return ro(e)?mr(t,e):_t(e)||zn(e)?(i=Id(t,e,n,s),Xt(i,{synthetic:!0}),i):(i=zr(t,e,n,r),Rr(i,`${e}`,void 0),Xt(i,{synthetic:!0}),i)}function zr(t,e,n,r){const s={message:e};if(r&&n){const i=bs(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}return s}function Od(t,{isUnhandledRejection:e}){const n=Zc(t),r=e?"promise rejection":"exception";return ns(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:zn(t)?`Event \`${Md(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Md(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(e){}}function ra(t,{metadata:e,tunnel:n,dsn:r}){const s=p(p({event_id:t.event_id,sent_at:new Date().toISOString()},e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}}),!!n&&!!r&&{dsn:nn(r)}),i=Dd(t);return Ct(s,[i])}function Dd(t){return[{type:"user_report"},t]}class sa extends Vl{constructor(e){const n=R.SENTRY_SDK_SOURCE||Su();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:Ur}],version:Ur},super(e),e.sendClientReports&&R.document&&R.document.addEventListener("visibilitychange",()=>{R.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return ta(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return na(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){B&&m.warn("SDK not enabled, will not capture user feedback.");return}const n=ra(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){B&&m.log("No outcomes to send");return}if(!this._dsn){B&&m.log("No dsn provided, will not send outcomes");return}B&&m.log("Sending outcomes:",e);const n=zu(e,this._options.tunnel&&nn(this._dsn));this._sendEnvelope(n)}}let zt;function Ad(){if(zt)return zt;if(Mr(R.fetch))return zt=R.fetch.bind(R);const t=R.document;let e=R.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){B&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return zt=e.bind(R)}function Nd(){zt=void 0}function ia(t,e=Ad()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a=p({body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15},t.fetchOptions);try{return e(t.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Nd(),n-=o,r--,cs(c)}}return ys(t,s)}const Ld=4;function oa(t){function e(n){return new pe((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===Ld&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&i.setRequestHeader(o,t.headers[o]);i.send(n.body)})}return ys(t,e)}const Dt="?",Pd=10,Fd=20,$d=30,Bd=40,Hd=50;function sn(t,e,n,r){const s={filename:t,function:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Ud=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,jd=/\((\S*)(?::(\d+))(?::(\d+))\)/,zd=t=>{const e=Ud.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=jd.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,s]=fa(e[1]||Dt,e[2]);return sn(s,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},aa=[$d,zd],Wd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,qd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Gd=t=>{const e=Wd.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=qd.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||Dt;return[s,r]=fa(s,r),sn(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},ca=[Hd,Gd],Yd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Vd=t=>{const e=Yd.exec(t);return e?sn(e[2],e[1]||Dt,+e[3],e[4]?+e[4]:void 0):void 0},ua=[Bd,Vd],Kd=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Xd=t=>{const e=Kd.exec(t);return e?sn(e[2],e[3]||Dt,+e[1]):void 0},Jd=[Pd,Xd],Zd=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Qd=t=>{const e=Zd.exec(t);return e?sn(e[5],e[3]||e[4]||Dt,+e[1],+e[2]):void 0},ef=[Fd,Qd],la=[aa,ca,ua],da=go(...la),fa=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Dt,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class qe{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=qe.id,this._options=p({onerror:!0,onunhandledrejection:!0},e),this._installFunc={onerror:tf,onunhandledrejection:nf}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(af(n),r(),this._installFunc[n]=void 0)}}}qe.__initStatic();function tf(){Eo(t=>{const[e,n,r]=pa();if(!e.getIntegration(qe))return;const{msg:s,url:i,line:o,column:a,error:c}=t;if(ea())return;const u=c===void 0&&Ie(s)?of(s,i,o,a):ha(Es(n,c||s,void 0,r,!1),i,o,a);u.level="error",e.captureEvent(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function nf(){vo(t=>{const[e,n,r]=pa();if(!e.getIntegration(qe))return;if(ea())return!0;const s=rf(t),i=rs(s)?sf(s):Es(n,s,void 0,r,!0);i.level="error",e.captureEvent(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function rf(t){if(rs(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(n){}return t}function sf(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function of(t,e,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ns(t)?t.message:t,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),ha({exception:{values:[{type:o,value:i}]}},e,n,r)}function ha(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Ie(e)&&e.length>0?e:co();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),t}function af(t){B&&m.log(`Global Handler attached: ${t}`)}function pa(){const t=C(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}const cf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class At{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=At.id,this._options=p({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}setupOnce(){this._options.setTimeout&&ie(R,"setTimeout",_i),this._options.setInterval&&ie(R,"setInterval",_i),this._options.requestAnimationFrame&&ie(R,"requestAnimationFrame",uf),this._options.XMLHttpRequest&&"XMLHttpRequest"in R&&ie(XMLHttpRequest.prototype,"send",lf);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:cf).forEach(df)}}At.__initStatic();function _i(t){return function(...e){const n=e[0];return e[0]=Ze(n,{mechanism:{data:{function:Ae(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function uf(t){return function(e){return t.apply(this,[Ze(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ae(t)},handled:!1,type:"instrument"}})])}}function lf(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ie(n,s,function(i){const o={mechanism:{data:{function:s,handler:Ae(i)},handled:!1,type:"instrument"}},a=ss(i);return a&&(o.mechanism.data.handler=Ae(a)),Ze(i,o)})}),t.apply(this,e)}}function df(t){const e=R,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ie(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ze(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ae(i),target:t},handled:!1,type:"instrument"}}))}catch(a){}return r.apply(this,[s,Ze(i,{mechanism:{data:{function:"addEventListener",handler:Ae(i),target:t},handled:!1,type:"instrument"}}),o])}}),ie(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch(c){}return r.call(this,s,a,o)}}))}const ff="cause",hf=5;class Nt{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=Nt.id,this._key=e.key||ff,this._limit=e.limit||hf}setupOnce(){}preprocessEvent(e,n,r){const s=r.getOptions();oo(Ss,s.stackParser,s.maxValueLength,this._key,this._limit,e,n)}}Nt.__initStatic();class Lt{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Lt.id}setupOnce(){}preprocessEvent(e){if(!R.navigator&&!R.location&&!R.document)return;const n=e.request&&e.request.url||R.location&&R.location.href,{referrer:r}=R.document||{},{userAgent:s}=R.navigator||{},i=p(p(p({},e.request&&e.request.headers),r&&{Referer:r}),s&&{"User-Agent":s}),o=I(p(p({},e.request),n&&{url:n}),{headers:i});e.request=o}}Lt.__initStatic();class Pt{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Pt.id}setupOnce(e,n){}processEvent(e){if(e.type)return e;try{if(pf(e,this._previousEvent))return B&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return this._previousEvent=e}}Pt.__initStatic();function pf(t,e){return e?!!(mf(t,e)||gf(t,e)):!1}function mf(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ga(t,e)||!ma(t,e))}function gf(t,e){const n=yi(e),r=yi(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ga(t,e)||!ma(t,e))}function ma(t,e){let n=Si(t),r=Si(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function ga(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(s){return!1}}function yi(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Si(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}}const gn=1024;class Ft{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=Ft.id,this.options=p({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}setupOnce(){if(this.options.console&&tu(Sf),this.options.dom&&So(yf(this.options.dom)),this.options.xhr&&os(bf),this.options.fetch&&is(Ef),this.options.history&&qn(vf),this.options.sentry){const e=fe();e&&e.on&&e.on("beforeSendEvent",_f)}}}Ft.__initStatic();function _f(t){C().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:$e(t)},{event:t})}function yf(t){function e(n){let r,s=typeof t=="object"?t.serializeAttribute:void 0,i=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;i&&i>gn&&(B&&m.warn(`\`dom.maxStringLength\` cannot exceed ${gn}, but a value of ${i} was configured. Sentry will use ${gn} instead.`),i=gn),typeof s=="string"&&(s=[s]);try{const o=n.event;r=Tf(o)?ze(o.target,{keyAttrs:s,maxStringLength:i}):ze(o,{keyAttrs:s,maxStringLength:i})}catch(o){r="<unknown>"}r.length!==0&&C().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return e}function Sf(t){const e={category:"console",data:{arguments:t.args,logger:"console"},level:xu(t.level),message:qs(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${qs(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;C().addBreadcrumb(e,{input:t.args,level:t.level})}function bf(t){const{startTimestamp:e,endTimestamp:n}=t,r=t.xhr[Be];if(!e||!n||!r)return;const{method:s,url:i,status_code:o,body:a}=r,c={method:s,url:i,status_code:o},u={xhr:t.xhr,input:a,startTimestamp:e,endTimestamp:n};C().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}function Ef(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const r=t.fetchData,s={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};C().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},s)}else{const r=t.response,s=I(p({},t.fetchData),{status_code:r&&r.status}),i={input:t.args,response:r,startTimestamp:e,endTimestamp:n};C().addBreadcrumb({category:"fetch",data:s,type:"http"},i)}}function vf(t){let e=t.from,n=t.to;const r=fr(R.location.href);let s=e?fr(e):void 0;const i=fr(n);(!s||!s.path)&&(s=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===s.protocol&&r.host===s.host&&(e=s.relative),C().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}function Tf(t){return!!t&&!!t.target}const _a=[new Mt,new Ot,new At,new Ft,new qe,new Nt,new Pt,new Lt];function ya(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=_a),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),R.SENTRY_RELEASE&&R.SENTRY_RELEASE.id&&(t.release=R.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e=I(p({},t),{stackParser:Qc(t.stackParser||da),integrations:Wl(t),transport:t.transport||(bo()?ia:oa)});Jl(sa,e),t.autoSessionTracking&&Cf()}function wf(t={},e=C()){if(!R.document){B&&m.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=e.getStackTop(),s=t.dsn||n&&n.getDsn();if(!s){B&&m.error("DSN not configured for showReportDialog call");return}r&&(t.user=p(p({},r.getUser()),t.user)),t.eventId||(t.eventId=e.lastEventId());const i=R.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=jl(s,t),t.onLoad&&(i.onload=t.onLoad);const{onClose:o}=t;if(o){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{R.removeEventListener("message",c)}};R.addEventListener("message",c)}const a=R.document.head||R.document.body;a?a.appendChild(i):B&&m.error("Not injecting report dialog. No injection point found in HTML")}function kf(){}function If(t){t()}function Rf(t){return Ze(t)()}function bi(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function Cf(){if(typeof R.document=="undefined"){B&&m.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const t=C();t.captureSession&&(bi(t),qn(({from:e,to:n})=>{e!==void 0&&e!==n&&bi(C())}))}function xf(t){const e=fe();e&&e.captureUserFeedback(t)}const Of=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:Ft,Dedupe:Pt,GlobalHandlers:qe,HttpContext:Lt,LinkedErrors:Nt,TryCatch:At},Symbol.toStringTag,{value:"Module"})),X=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,U=P;function Mf(){U&&U.document?U.document.addEventListener("visibilitychange",()=>{const t=tt();if(U.document.hidden&&t){const e="cancelled";X&&m.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):X&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const vs=(t,e,n)=>{let r,s;return i=>{e.value>=0&&(i||n)&&(s=e.value-(r||0),(s||r===void 0)&&(r=e.value,e.delta=s,t(e)))}},Df=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Af=()=>{const t=U.performance.timing,e=U.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},Sa=()=>U.__WEB_VITALS_POLYFILL__?U.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Af()):U.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ba=()=>{const t=Sa();return t&&t.activationStart||0},Ts=(t,e)=>{const n=Sa();let r="navigate";return n&&(U.document.prerendering||ba()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e=="undefined"?-1:e,rating:"good",delta:0,entries:[],id:Df(),navigationType:r}},Jn=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(s=>{e(s.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(r){}},Zn=(t,e)=>{const n=r=>{(r.type==="pagehide"||U.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Nf=t=>{const e=Ts("CLS",0);let n,r=0,s=[];const i=a=>{a.forEach(c=>{if(!c.hadRecentInput){const u=s[0],l=s[s.length-1];r&&s.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,s.push(c)):(r=c.value,s=[c]),r>e.value&&(e.value=r,e.entries=s,n&&n())}})},o=Jn("layout-shift",i);if(o){n=vs(t,e);const a=()=>{i(o.takeRecords()),n(!0)};return Zn(a),a}};let In=-1;const Lf=()=>U.document.visibilityState==="hidden"&&!U.document.prerendering?0:1/0,Pf=()=>{Zn(({timeStamp:t})=>{In=t},!0)},ws=()=>(In<0&&(In=Lf(),Pf()),{get firstHiddenTime(){return In}}),Ff=t=>{const e=ws(),n=Ts("FID");let r;const s=a=>{a.startTime<e.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=Jn("first-input",i);r=vs(t,n),o&&Zn(()=>{i(o.takeRecords()),o.disconnect()},!0)},Ei={},$f=t=>{const e=ws(),n=Ts("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-ba(),0);c<e.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=Jn("largest-contentful-paint",s);if(i){r=vs(t,n);const o=()=>{Ei[n.id]||(s(i.takeRecords()),i.disconnect(),Ei[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),Zn(o,!0),o}},Wt={},Dn={};let Ea,va,Ta;function Bf(t){return ks("cls",t,Uf,Ea)}function wa(t){return ks("lcp",t,zf,Ta)}function Hf(t){return ks("fid",t,jf,va)}function Qn(t,e){return ka(t,e),Dn[t]||(Wf(t),Dn[t]=!0),Ia(t,e)}function er(t,e){const n=Wt[t];if(!(!n||!n.length))for(const r of n)try{r(e)}catch(s){X&&m.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ae(r)}
Error:`,s)}}function Uf(){Nf(t=>{er("cls",{metric:t}),Ea=t})}function jf(){Ff(t=>{er("fid",{metric:t}),va=t})}function zf(){$f(t=>{er("lcp",{metric:t}),Ta=t})}function ks(t,e,n,r){return ka(t,e),Dn[t]||(n(),Dn[t]=!0),r&&e({metric:r}),Ia(t,e)}function Wf(t){const e={};t==="event"&&(e.durationThreshold=0),Jn(t,n=>{er(t,{entries:n})},e)}function ka(t,e){Wt[t]=Wt[t]||[],Wt[t].push(e)}function Ia(t,e){return()=>{const n=Wt[t];if(!n)return;const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}function gr(t){return typeof t=="number"&&isFinite(t)}function bt(t,r){var s=r,{startTimestamp:e}=s,n=ln(s,["startTimestamp"]);return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild(p({startTimestamp:e},n))}const qf=2147483647;function ne(t){return t/1e3}function Ra(){return U&&U.addEventListener&&U.performance}let vi=0,Z={},Te,qt;function Gf(){const t=Ra();if(t&&ge){t.mark&&U.performance.mark("sentry-tracing-init");const e=Jf(),n=Kf(),r=Xf();return()=>{e(),n(),r()}}return()=>{}}function Yf(){Qn("longtask",({entries:t})=>{for(const e of t){const n=tt();if(!n)return;const r=ne(ge+e.startTime),s=ne(e.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function Vf(){Qn("event",({entries:t})=>{for(const e of t){const n=tt();if(!n)return;if(e.name==="click"){const r=ne(ge+e.startTime),s=ne(e.duration);n.startChild({description:ze(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}}})}function Kf(){return Bf(({metric:t})=>{const e=t.entries.pop();e&&(X&&m.log("[Measurements] Adding CLS"),Z.cls={value:t.value,unit:""},qt=e)})}function Xf(){return wa(({metric:t})=>{const e=t.entries.pop();e&&(X&&m.log("[Measurements] Adding LCP"),Z.lcp={value:t.value,unit:"millisecond"},Te=e)})}function Jf(){return Hf(({metric:t})=>{const e=t.entries.pop();if(!e)return;const n=ne(ge),r=ne(e.startTime);X&&m.log("[Measurements] Adding FID"),Z.fid={value:t.value,unit:"millisecond"},Z["mark.fid"]={value:n+r,unit:"second"}})}function Zf(t){const e=Ra();if(!e||!U.performance.getEntries||!ge)return;X&&m.log("[Tracing] Adding & adjusting spans using Performance API");const n=ne(ge),r=e.getEntries();let s,i;if(r.slice(vi).forEach(o=>{const a=ne(o.startTime),c=ne(o.duration);if(!(t.op==="navigation"&&n+a<t.startTimestamp))switch(o.entryType){case"navigation":{eh(t,o,n),s=n+ne(o.responseStart),i=n+ne(o.requestStart);break}case"mark":case"paint":case"measure":{Qf(t,o,a,c,n);const u=ws(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(X&&m.log("[Measurements] Adding FP"),Z.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(X&&m.log("[Measurements] Adding FCP"),Z.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const u=o.name.replace(U.location.origin,"");nh(t,o,u,a,c,n);break}}}),vi=Math.max(r.length-1,0),rh(t),t.op==="pageload"){typeof s=="number"&&(X&&m.log("[Measurements] Adding TTFB"),Z.ttfb={value:(s-t.startTimestamp)*1e3,unit:"millisecond"},typeof i=="number"&&i<=s&&(Z["ttfb.requestTime"]={value:(s-i)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!Z[a]||n>=t.startTimestamp)return;const c=Z[a].value,u=n+ne(c),l=Math.abs((u-t.startTimestamp)*1e3),d=l-c;X&&m.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),Z[a].value=l});const o=Z["mark.fid"];o&&Z.fid&&(bt(t,{description:"first input delay",endTimestamp:o.value+ne(Z.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete Z["mark.fid"]),"fcp"in Z||delete Z.cls,Object.keys(Z).forEach(a=>{t.setMeasurement(a,Z[a].value,Z[a].unit)}),sh(t)}Te=void 0,qt=void 0,Z={}}function Qf(t,e,n,r,s){const i=s+n,o=i+r;return bt(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function eh(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{_n(t,e,r,n)}),_n(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),_n(t,e,"fetch",n,"cache","domainLookupStart"),_n(t,e,"domainLookup",n,"DNS"),th(t,e,n)}function _n(t,e,n,r,s,i){const o=i?e[i]:e[`${n}End`],a=e[`${n}Start`];!a||!o||bt(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+ne(a),endTimestamp:r+ne(o)})}function th(t,e,n){bt(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ne(e.requestStart),endTimestamp:n+ne(e.responseEnd)}),bt(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ne(e.responseStart),endTimestamp:n+ne(e.responseEnd)})}function nh(t,e,n,r,s,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o={};_r(o,e,"transferSize","http.response_transfer_size"),_r(o,e,"encodedBodySize","http.response_content_length"),_r(o,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);const a=i+r,c=a+s;bt(t,{description:n,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}function rh(t){const e=U.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),gr(n.rtt)&&(Z["connection.rtt"]={value:n.rtt,unit:"millisecond"})),gr(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),gr(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function sh(t){Te&&(X&&m.log("[Measurements] Adding LCP Data"),Te.element&&t.setTag("lcp.element",ze(Te.element)),Te.id&&t.setTag("lcp.id",Te.id),Te.url&&t.setTag("lcp.url",Te.url.trim().slice(0,200)),t.setTag("lcp.size",Te.size)),qt&&qt.sources&&(X&&m.log("[Measurements] Adding CLS Data"),qt.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,ze(e.node))))}function _r(t,e,n,r){const s=e[n];s!=null&&s<qf&&(t[r]=s)}function ih(t,e,n,r,s="auto.http.browser"){if(!rn()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const h=t.fetchData.__span;if(!h)return;const g=r[h];if(g){if(t.response){g.setHttpStatus(t.response.status);const _=t.response&&t.response.headers&&t.response.headers.get("content-length");if(_){const b=parseInt(_);b>0&&g.setData("http.response_content_length",b)}}else t.error&&g.setStatus("internal_error");g.finish(),delete r[h]}return}const o=C(),a=o.getScope(),c=o.getClient(),u=a.getSpan(),{method:l,url:d}=t.fetchData,f=i&&u?u.startChild({data:{url:d,type:"fetch","http.method":l},description:`${l} ${d}`,op:"http.client",origin:s}):void 0;if(f&&(t.fetchData.__span=f.spanId,r[f.spanId]=f),n(t.fetchData.url)&&c){const h=t.args[0];t.args[1]=t.args[1]||{};const g=t.args[1];g.headers=oh(h,c,a,g,f)}return f}function oh(t,e,n,r,s){const i=s||n.getSpan(),o=i&&i.transaction,{traceId:a,sampled:c,dsc:u}=n.getPropagationContext(),l=i?i.toTraceparent():us(a,void 0,c),d=o?o.getDynamicSamplingContext():u||Vn(a,e,n),f=Fr(d),h=typeof Request!="undefined"&&De(t,Request)?t.headers:r.headers;if(h)if(typeof Headers!="undefined"&&De(h,Headers)){const g=new Headers(h);return g.append("sentry-trace",l),f&&g.append(Pr,f),g}else if(Array.isArray(h)){const g=[...h,["sentry-trace",l]];return f&&g.push([Pr,f]),g}else{const g="baggage"in h?h.baggage:void 0,_=[];return Array.isArray(g)?_.push(...g):g&&_.push(g),f&&_.push(f),I(p({},h),{"sentry-trace":l,baggage:_.length>0?_.join(","):void 0})}else return{"sentry-trace":l,baggage:f}}const Wr=["localhost",/^\/(?!\/)/],An={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Wr,tracePropagationTargets:Wr};function Ca(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}=p({traceFetch:An.traceFetch,traceXHR:An.traceXHR},t),a=typeof i=="function"?i:l=>!0,c=l=>lh(l,r||s),u={};e&&is(l=>{const d=ih(l,a,c,u);o&&d&&Ti(d)}),n&&os(l=>{const d=dh(l,a,c,u);o&&d&&Ti(d)})}function ah(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function Ti(t){const e=t.data.url;if(!e)return;const n=Qn("resource",({entries:r})=>{r.forEach(s=>{ah(s)&&s.name.endsWith(e)&&(uh(s).forEach(o=>t.setData(...o)),setTimeout(n))})})}function ch(t){let e="unknown",n="unknown",r="";for(const s of t){if(s==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=s}return r===t&&(e=r),{name:e,version:n}}function ve(t=0){return((ge||performance.timeOrigin)+t)/1e3}function uh(t){const{name:e,version:n}=ch(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),ge?[...r,["http.request.redirect_start",ve(t.redirectStart)],["http.request.fetch_start",ve(t.fetchStart)],["http.request.domain_lookup_start",ve(t.domainLookupStart)],["http.request.domain_lookup_end",ve(t.domainLookupEnd)],["http.request.connect_start",ve(t.connectStart)],["http.request.secure_connection_start",ve(t.secureConnectionStart)],["http.request.connection_end",ve(t.connectEnd)],["http.request.request_start",ve(t.requestStart)],["http.request.response_start",ve(t.responseStart)],["http.request.response_end",ve(t.responseEnd)]]:r}function lh(t,e){return It(t,e||Wr)}function dh(t,e,n,r){const s=t.xhr,i=s&&s[Be];if(!rn()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const d=s.__sentry_xhr_span_id__;if(!d)return;const f=r[d];f&&i.status_code!==void 0&&(f.setHttpStatus(i.status_code),f.finish(),delete r[d]);return}const a=C(),c=a.getScope(),u=c.getSpan(),l=o&&u?u.startChild({data:{type:"xhr","http.method":i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(l&&(s.__sentry_xhr_span_id__=l.spanId,r[s.__sentry_xhr_span_id__]=l),s.setRequestHeader&&n(i.url))if(l){const d=l&&l.transaction,f=d&&d.getDynamicSamplingContext(),h=Fr(f);wi(s,l.toTraceparent(),h)}else{const d=a.getClient(),{traceId:f,sampled:h,dsc:g}=c.getPropagationContext(),_=us(f,void 0,h),b=g||(d?Vn(f,d,c):void 0),y=Fr(b);wi(s,_,y)}return l}function wi(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(Pr,n)}catch(r){}}function fh(t,e=!0,n=!0){if(!U||!U.location){X&&m.warn("Could not initialize routing instrumentation due to invalid location");return}let r=U.location.href,s;e&&(s=t({name:U.location.pathname,startTimestamp:ge?ge/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&qn(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(X&&m.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.finish()),s=t({name:U.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const hh="BrowserTracing",ph=p(I(p({},kn),{markBackgroundTransactions:!0,routingInstrumentation:fh,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}}),An);let xa=class{constructor(e){this.name=hh,this._hasSetTracePropagationTargets=!1,ms(),X&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options=p(p({},ph),e),this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Gf(),this.options.enableLongTask&&Yf(),this.options._experiments.enableInteractions&&Vf()}setupOnce(e,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:h,_experiments:g}=this.options,_=i&&i.tracePropagationTargets,b=_||this.options.tracePropagationTargets;X&&this._hasSetTracePropagationTargets&&_&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(y=>{const T=this._createRouteTransaction(y);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(T,y,n),T},c,a),u&&Mf(),g.enableInteractions&&this._registerInteractionListener(),Ca({traceFetch:l,traceXHR:d,tracePropagationTargets:b,shouldCreateSpanForRequest:f,enableHTTPTimings:h})}_createRouteTransaction(e){if(!this._getCurrentHub){X&&m.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=e.op==="pageload",c=a?ki("sentry-trace"):"",u=a?ki("baggage"):"",{traceparentData:l,dynamicSamplingContext:d,propagationContext:f}=Ro(c,u),h=I(p(p({},e),l),{metadata:I(p({},e.metadata),{dynamicSamplingContext:l&&!d?{}:d}),trimEnd:!0}),g=typeof r=="function"?r(h):h,_=g===void 0?I(p({},h),{sampled:!1}):g;_.metadata=_.name!==h.name?I(p({},_.metadata),{source:"custom"}):_.metadata,this._latestRouteName=_.name,this._latestRouteSource=_.metadata&&_.metadata.source,_.sampled===!1&&X&&m.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),X&&m.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:b}=U,y=ui(n,_,s,i,!0,{location:b},o),T=n.getScope();return a&&l?T.setPropagationContext(f):T.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:y.sampled}),y.registerBeforeFinishCallback(M=>{this._collectWebVitals(),Zf(M)}),y}_registerInteractionListener(){let e;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=tt();if(a&&a.op&&["navigation","pageload"].includes(a.op)){X&&m.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){X&&m.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){X&&m.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=U,l={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=ui(c,l,r,s,!0,{location:u},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}};function ki(t){const e=qc(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function mh(){const t=xt();if(!t.__SENTRY__)return;const e={mongodb(){const r=He(module,"./node/integrations/mongo");return new r.Mongo},mongoose(){const r=He(module,"./node/integrations/mongo");return new r.Mongo},mysql(){const r=He(module,"./node/integrations/mysql");return new r.Mysql},pg(){const r=He(module,"./node/integrations/postgres");return new r.Postgres}},n=Object.keys(e).filter(r=>!!bu(r)).map(r=>{try{return e[r]()}catch(s){return}}).filter(r=>r);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function gh(){ms(),as()&&mh()}const W=P,Is="sentryReplaySession",_h="replay_event",Rs="Unable to send Replay",yh=3e5,Sh=9e5,bh=5e3,Eh=5500,vh=6e4,Th=5e3,wh=3,Ii=15e4,yn=5e3,kh=3e3,Ih=300,Cs=2e7,Rh=4999,Ch=15e3,Ri=36e5;var re;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(re||(re={}));function xh(t){return t.nodeType===t.ELEMENT_NODE}function Gt(t){const e=t==null?void 0:t.host;return(e==null?void 0:e.shadowRoot)===t}function Yt(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function Oh(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function Mh(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function Nn(t){try{const e=t.rules||t.cssRules;return e?Oh(Array.from(e,Oa).join("")):null}catch(e){return null}}function Oa(t){let e;if(Ah(t))try{e=Nn(t.styleSheet)||Mh(t)}catch(n){}else if(Nh(t)&&t.selectorText.includes(":"))return Dh(t.cssText);return e||t.cssText}function Dh(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function Ah(t){return"styleSheet"in t}function Nh(t){return"selectorText"in t}class Ma{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var n;if(!e)return-1;const r=(n=this.getMeta(e))===null||n===void 0?void 0:n.id;return r!=null?r:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Lh(){return new Ma}function tr({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function Jt({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function Et(t){return t.toLowerCase()}function qr(t){return t.toUpperCase()}const Ci="__rrweb_original__";function Ph(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let s=0;s<t.height;s+=n){const i=e.getImageData,o=Ci in i?i[Ci]:i;if(new Uint32Array(o.call(e,r,s,Math.min(n,t.width-r),Math.min(n,t.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function xs(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Et(e):null}function Ln(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}let Fh=1;const $h=new RegExp("[^a-z0-9-_:]"),Zt=-2;function Os(){return Fh++}function Bh(t){if(t instanceof HTMLFormElement)return"form";const e=Et(t.tagName);return $h.test(e)?"div":e}function Hh(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let ot,xi;const Uh=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,jh=/^(?:[a-z+]+:)?\/\//i,zh=/^www\..*/i,Wh=/^(data:)([^,]*),(.*)/i;function Pn(t,e){return(t||"").replace(Uh,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(jh.test(c)||zh.test(c))return`url(${u}${c}${u})`;if(Wh.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Hh(e)+c}${u})`;const l=e.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const qh=/^[^ \t\n\r\u000c]+/,Gh=/^[, \t\n\r\u000c]+/;function Yh(t,e){if(e.trim()==="")return e;let n=0;function r(i){let o;const a=i.exec(e.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(Gh),!(n>=e.length);){let i=r(qh);if(i.slice(-1)===",")i=dt(t,i.substring(0,i.length-1)),s.push(i);else{let o="";i=dt(t,i);let a=!1;for(;;){const c=e.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function dt(t,e){if(!e||e.trim()==="")return e;const n=t.createElement("a");return n.href=e,n.href}function Vh(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Ms(){const t=document.createElement("a");return t.href="",t.href}function Da(t,e,n,r,s,i){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?dt(t,r):n==="srcset"?Yh(t,r):n==="style"?Pn(r,Ms()):e==="object"&&n==="data"?dt(t,r):typeof i=="function"?i(n,r,s):r)}function Aa(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function Kh(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let s=t.classList.length;s--;){const i=t.classList[s];if(e.test(i))return!0}if(n)return t.matches(n)}catch(s){}return!1}function Xh(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function Ve(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:Ve(t.parentNode,e,n,r+1)}function ft(t,e){return n=>{const r=n;if(r===null)return!1;if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(Xh(r,t))return!0}return!!(e&&r.matches(e))}}function vt(t,e,n,r,s,i){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(o===null)return!1;let a=-1,c=-1;if(i){if(c=Ve(o,ft(r,s)),c<0)return!0;a=Ve(o,ft(e,n),c>=0?c:1/0)}else{if(a=Ve(o,ft(e,n)),a<0)return!1;c=Ve(o,ft(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch(o){}return!!i}function Jh(t,e,n){const r=t.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch(a){return}if(i!=="complete"){const a=setTimeout(()=>{s||(e(),s=!0)},n);t.addEventListener("load",()=>{clearTimeout(a),s=!0,e()});return}const o="about:blank";if(r.location.href!==o||t.src===o||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function Zh(t,e,n){let r=!1,s;try{s=t.sheet}catch(o){return}if(s)return;const i=setTimeout(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{clearTimeout(i),r=!0,e()})}function Qh(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:g={},maskTextFn:_,maskInputFn:b,dataURLOptions:y={},inlineImages:T,recordCanvas:M,keepIframeSrcFn:S,newlyAddedElement:x=!1}=e,w=ep(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:re.Document,childNodes:[],compatMode:t.compatMode}:{type:re.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:re.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:w};case t.ELEMENT_NODE:return np(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:g,maskInputFn:b,dataURLOptions:y,inlineImages:T,recordCanvas:M,keepIframeSrcFn:S,newlyAddedElement:x,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case t.TEXT_NODE:return tp(t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:g,maskInputFn:b,rootId:w});case t.CDATA_SECTION_NODE:return{type:re.CDATA,textContent:"",rootId:w};case t.COMMENT_NODE:return{type:re.Comment,textContent:t.textContent||"",rootId:w};default:return!1}}function ep(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function tp(t,e){var n;const{maskAllText:r,maskTextClass:s,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:u,maskInputFn:l,rootId:d}=e,f=t.parentNode&&t.parentNode.tagName;let h=t.textContent;const g=f==="STYLE"?!0:void 0,_=f==="SCRIPT"?!0:void 0,b=f==="TEXTAREA"?!0:void 0;if(g&&h){try{t.nextSibling||t.previousSibling||!((n=t.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(h=Nn(t.parentNode.sheet))}catch(T){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${T}`,t)}h=Pn(h,Ms())}_&&(h="SCRIPT_PLACEHOLDER");const y=vt(t,s,o,i,a,r);if(!g&&!_&&!b&&h&&y&&(h=c?c(h):h.replace(/[\S]/g,"*")),b&&h&&(u.textarea||y)&&(h=l?l(h,t.parentNode):h.replace(/[\S]/g,"*")),f==="OPTION"&&h){const T=tr({type:null,tagName:f,maskInputOptions:u});h=Jt({isMasked:vt(t,s,o,i,a,T),element:t,value:h,maskInputFn:l})}return{type:re.Text,textContent:h||"",isStyle:g,rootId:d}}function np(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:h,newlyAddedElement:g=!1,rootId:_,maskAllText:b,maskTextClass:y,unmaskTextClass:T,maskTextSelector:M,unmaskTextSelector:S}=e,x=Kh(t,r,s,i),w=Bh(t);let E={};const D=t.attributes.length;for(let v=0;v<D;v++){const O=t.attributes[v];Aa(w,O.name,O.value)||(E[O.name]=Da(n,w,Et(O.name),O.value,t,c))}if(w==="link"&&o){const v=Array.from(n.styleSheets).find(j=>j.href===t.href);let O=null;v&&(O=Nn(v)),O&&(delete E.rel,delete E.href,E._cssText=Pn(O,v.href))}if(w==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const v=Nn(t.sheet);v&&(E._cssText=Pn(v,Ms()))}if(w==="input"||w==="textarea"||w==="select"||w==="option"){const v=t,O=xs(v),j=Ln(v,qr(w),O),ee=v.checked;if(O!=="submit"&&O!=="button"&&j){const Q=vt(v,y,M,T,S,tr({type:O,tagName:qr(w),maskInputOptions:a}));E.value=Jt({isMasked:Q,element:v,value:j,maskInputFn:u})}ee&&(E.checked=ee)}if(w==="option"&&(t.selected&&!a.select?E.selected=!0:delete E.selected),w==="canvas"&&f){if(t.__context==="2d")Ph(t)||(E.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const v=t.toDataURL(l.type,l.quality),O=document.createElement("canvas");O.width=t.width,O.height=t.height;const j=O.toDataURL(l.type,l.quality);v!==j&&(E.rr_dataURL=v)}}if(w==="img"&&d){ot||(ot=n.createElement("canvas"),xi=ot.getContext("2d"));const v=t,O=v.crossOrigin;v.crossOrigin="anonymous";const j=()=>{v.removeEventListener("load",j);try{ot.width=v.naturalWidth,ot.height=v.naturalHeight,xi.drawImage(v,0,0),E.rr_dataURL=ot.toDataURL(l.type,l.quality)}catch(ee){console.warn(`Cannot inline img src=${v.currentSrc}! Error: ${ee}`)}O?E.crossOrigin=O:v.removeAttribute("crossorigin")};v.complete&&v.naturalWidth!==0?j():v.addEventListener("load",j)}if((w==="audio"||w==="video")&&(E.rr_mediaState=t.paused?"paused":"played",E.rr_mediaCurrentTime=t.currentTime),g||(t.scrollLeft&&(E.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(E.rr_scrollTop=t.scrollTop)),x){const{width:v,height:O}=t.getBoundingClientRect();E={class:E.class,rr_width:`${v}px`,rr_height:`${O}px`}}w==="iframe"&&!h(E.src)&&(t.contentDocument||(E.rr_src=E.src),delete E.src);let H;try{customElements.get(w)&&(H=!0)}catch(v){}return{type:re.Element,tagName:w,attributes:E,childNodes:[],isSVG:Vh(t)||void 0,needBlock:x,rootId:_,isCustom:H}}function z(t){return t==null?"":t.toLowerCase()}function rp(t,e){if(e.comment&&t.type===re.Comment)return!0;if(t.type===re.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(z(t.attributes.name).match(/^msapplication-tile(image|color)$/)||z(t.attributes.name)==="application-name"||z(t.attributes.rel)==="icon"||z(t.attributes.rel)==="apple-touch-icon"||z(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&z(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(z(t.attributes.property).match(/^(og|twitter|fb):/)||z(t.attributes.name).match(/^(og|twitter):/)||z(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(z(t.attributes.name)==="robots"||z(t.attributes.name)==="googlebot"||z(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(z(t.attributes.name)==="author"||z(t.attributes.name)==="generator"||z(t.attributes.name)==="framework"||z(t.attributes.name)==="publisher"||z(t.attributes.name)==="progid"||z(t.attributes.property).match(/^article:/)||z(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(z(t.attributes.name)==="google-site-verification"||z(t.attributes.name)==="yandex-verification"||z(t.attributes.name)==="csrf-token"||z(t.attributes.name)==="p:domain_verify"||z(t.attributes.name)==="verify-v1"||z(t.attributes.name)==="verification"||z(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ht(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:h=!0,maskInputOptions:g={},maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:T,dataURLOptions:M={},inlineImages:S=!1,recordCanvas:x=!1,onSerialize:w,onIframeLoad:E,iframeLoadTimeout:D=5e3,onStylesheetLoad:H,stylesheetLoadTimeout:v=5e3,keepIframeSrcFn:O=()=>!1,newlyAddedElement:j=!1}=e;let{preserveWhiteSpace:ee=!0}=e;const Q=Qh(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,dataURLOptions:M,inlineImages:S,recordCanvas:x,keepIframeSrcFn:O,newlyAddedElement:j});if(!Q)return console.warn(t,"not serialized"),null;let he;r.hasNode(t)?he=r.getId(t):rp(Q,T)||!ee&&Q.type===re.Text&&!Q.isStyle&&!Q.textContent.replace(/^\s+|\s+$/gm,"").length?he=Zt:he=Os();const G=Object.assign(Q,{id:he});if(r.add(t,G),he===Zt)return null;w&&w(t);let Ee=!f;if(G.type===re.Element){Ee=Ee&&!G.needBlock,delete G.needBlock;const J=t.shadowRoot;J&&Yt(J)&&(G.isShadowHost=!0)}if((G.type===re.Document||G.type===re.Element)&&Ee){T.headWhitespace&&G.type===re.Element&&G.tagName==="head"&&(ee=!1);const J={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:T,dataURLOptions:M,inlineImages:S,recordCanvas:x,preserveWhiteSpace:ee,onSerialize:w,onIframeLoad:E,iframeLoadTimeout:D,onStylesheetLoad:H,stylesheetLoadTimeout:v,keepIframeSrcFn:O};for(const de of Array.from(t.childNodes)){const _e=ht(de,J);_e&&G.childNodes.push(_e)}if(xh(t)&&t.shadowRoot)for(const de of Array.from(t.shadowRoot.childNodes)){const _e=ht(de,J);_e&&(Yt(t.shadowRoot)&&(_e.isShadow=!0),G.childNodes.push(_e))}}return t.parentNode&&Gt(t.parentNode)&&Yt(t.parentNode)&&(G.isShadow=!0),G.type===re.Element&&G.tagName==="iframe"&&Jh(t,()=>{const J=t.contentDocument;if(J&&E){const de=ht(J,{doc:J,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:T,dataURLOptions:M,inlineImages:S,recordCanvas:x,preserveWhiteSpace:ee,onSerialize:w,onIframeLoad:E,iframeLoadTimeout:D,onStylesheetLoad:H,stylesheetLoadTimeout:v,keepIframeSrcFn:O});de&&E(t,de)}},D),G.type===re.Element&&G.tagName==="link"&&G.attributes.rel==="stylesheet"&&Zh(t,()=>{if(H){const J=ht(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:T,dataURLOptions:M,inlineImages:S,recordCanvas:x,preserveWhiteSpace:ee,onSerialize:w,onIframeLoad:E,iframeLoadTimeout:D,onStylesheetLoad:H,stylesheetLoadTimeout:v,keepIframeSrcFn:O});J&&H(t,J)}},v),G}function sp(t,e){const{mirror:n=new Ma,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:h=!1,maskAllInputs:g=!1,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOM:T=!1,dataURLOptions:M,preserveWhiteSpace:S,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:D,stylesheetLoadTimeout:H,keepIframeSrcFn:v=()=>!1}=e||{};return ht(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:g===!1?{}:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:M,inlineImages:f,recordCanvas:h,preserveWhiteSpace:S,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:D,stylesheetLoadTimeout:H,keepIframeSrcFn:v,newlyAddedElement:!1})}function le(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const ut=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Oi={map:{},getId(){return console.error(ut),-1},getNode(){return console.error(ut),null},removeNodeFromMap(){console.error(ut)},has(){return console.error(ut),!1},reset(){console.error(ut)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Oi=new Proxy(Oi,{get(t,e,n){return e==="map"&&console.error(ut),Reflect.get(t,e,n)}}));function Qt(t,e,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=e-(o-s),c=this;a<=0||a>e?(r&&(clearTimeout(r),r=null),s=o,t.apply(c,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{s=n.leading===!1?0:Date.now(),r=null,t.apply(c,i)},a))}}function Na(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Na(t,e,i||{},!0)}function Ds(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch(r){return()=>{}}}let Fn=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Fn=()=>new Date().getTime());function La(t){var e,n,r,s,i,o;const a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((n=(e=a==null?void 0:a.body)===null||e===void 0?void 0:e.parentElement)===null||n===void 0?void 0:n.scrollLeft)||((r=a==null?void 0:a.body)===null||r===void 0?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((i=(s=a==null?void 0:a.body)===null||s===void 0?void 0:s.parentElement)===null||i===void 0?void 0:i.scrollTop)||((o=a==null?void 0:a.body)===null||o===void 0?void 0:o.scrollTop)||0}}function Pa(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Fa(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ye(t,e,n,r,s){if(!t)return!1;const i=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!i)return!1;const o=ft(e,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=Ve(i,o);let c=-1;return a<0?!1:(r&&(c=Ve(i,ft(null,r))),a>-1&&c<0?!0:a<c)}function ip(t,e){return e.getId(t)!==-1}function yr(t,e){return e.getId(t)===Zt}function $a(t,e){if(Gt(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?$a(t.parentNode,e):!0:!0}function Gr(t){return!!t.changedTouches}function op(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ba(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Ha(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Yr(t){return!!(t!=null&&t.shadowRoot)}class ap{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var n;return(n=this.styleIDMap.get(e))!==null&&n!==void 0?n:-1}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ua(t){var e,n;let r=null;return((n=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t))===null||n===void 0?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(r=t.getRootNode().host),r}function cp(t){let e=t,n;for(;n=Ua(e);)e=n;return e}function up(t){const e=t.ownerDocument;if(!e)return!1;const n=cp(t);return e.contains(n)}function ja(t){const e=t.ownerDocument;return e?e.contains(t)||up(t):!1}var L=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(L||{}),N=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(N||{}),ce=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(ce||{}),Re=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Re||{});function Mi(t){return"__ln"in t}class lp{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=(n==null?void 0:n.next)||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&Mi(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&Mi(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Di=(t,e)=>`${t}@${e}`;class dp{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new lp,s=c=>{let u=c,l=Zt;for(;l===Zt;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!ja(c))return;const u=Gt(c.parentNode)?this.mirror.getId(Ua(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=ht(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Ba(f,this.mirror)&&this.iframeManager.addIframe(f),Ha(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Yr(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,h)=>{this.iframeManager.attachIframe(f,h),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,h)=>{this.stylesheetManager.attachLinkElement(f,h)}});d&&(e.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Ai(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!Ni(this.droppedSet,c)&&!Ai(this.removes,c,this.mirror)||Ni(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const h=l.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=h.parentNode.host;if(this.mirror.getId(g)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:e};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(yr(e.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch(r){n=this.doc}switch(e.type){case"characterData":{const r=e.target.textContent;!ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:vt(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let s=e.attributeName,i=e.target.getAttribute(s);if(s==="value"){const a=xs(r),c=r.tagName;i=Ln(r,c,a);const u=tr({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),l=vt(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);i=Jt({isMasked:l,element:r,value:i,maskInputFn:this.maskInputFn})}if(ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===e.oldValue)return;let o=this.attributes.find(a=>a.node===e.target);if(r.tagName==="IFRAME"&&s==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)s="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),s==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Aa(r.tagName,s)&&(o.attributes[s]=Da(this.doc,Et(r.tagName),Et(s),i,r,this.maskAttributeFn),s==="style")){const a=n.createElement("span");e.oldValue&&a.setAttribute("style",e.oldValue);for(const c of Array.from(r.style)){const u=r.style.getPropertyValue(c),l=r.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||l!==a.style.getPropertyPriority(c)?l===""?o.styleDiff[c]=u:o.styleDiff[c]=[u,l]:o._unchangedStyles[c]=[u,l]}for(const c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const s=this.mirror.getId(r),i=Gt(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||yr(r,this.mirror)||!ip(r,this.mirror)||(this.addedSet.has(r)?(Vr(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&s===-1||$a(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Di(s,i)]?Vr(this.movedSet,r):this.removes.push({parentId:i,id:s,isShadow:Gt(e.target)&&Yt(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(yr(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Di(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ye(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(r=>this.genAdds(r)),Yr(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Vr(t,e){t.delete(e),e.childNodes.forEach(n=>Vr(t,n))}function Ai(t,e,n){return t.length===0?!1:za(t,e,n)}function za(t,e,n){const{parentNode:r}=e;if(!r)return!1;const s=n.getId(r);return t.some(i=>i.id===s)?!0:za(t,r,n)}function Ni(t,e){return t.size===0?!1:Wa(t,e)}function Wa(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:Wa(t,n):!1}let Vt;function fp(t){Vt=t}function hp(){Vt=void 0}const $=t=>Vt?(...n)=>{try{return t(...n)}catch(r){if(Vt&&Vt(r)===!0)return()=>{};throw r}}:t,pt=[];function on(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(e){}return t&&t.target}function qa(t,e){var n,r;const s=new dp;pt.push(s),s.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const o=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");o&&window[o]&&(i=window[o]);const a=new i($(c=>{t.onMutation&&t.onMutation(c)===!1||s.processMutations.bind(s)(c)}));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function pp({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const s=typeof e.mousemove=="number"?e.mousemove:50,i=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let o=[],a;const c=Qt($(d=>{const f=Date.now()-a;t(o.map(h=>(h.timeOffset-=f,h)),d),o=[],a=null}),i),u=$(Qt($(d=>{const f=on(d),{clientX:h,clientY:g}=Gr(d)?d.changedTouches[0]:d;a||(a=Fn()),o.push({x:h,y:g,id:r.getId(f),timeOffset:Fn()-a}),c(typeof DragEvent!="undefined"&&d instanceof DragEvent?N.Drag:d instanceof MouseEvent?N.MouseMove:N.TouchMove)}),s,{trailing:!1})),l=[le("mousemove",u,n),le("touchmove",u,n),le("drag",u,n)];return $(()=>{l.forEach(d=>d())})}function mp({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const h=on(f);if(ye(h,r,s,i,!0))return;let g=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":g=Re.Mouse;break;case"touch":g=Re.Touch;break;case"pen":g=Re.Pen;break}g===Re.Touch?ce[d]===ce.MouseDown?_="TouchStart":ce[d]===ce.MouseUp&&(_="TouchEnd"):Re.Pen}else Gr(f)&&(g=Re.Touch);g!==null?(u=g,(_.startsWith("Touch")&&g===Re.Touch||_.startsWith("Mouse")&&g===Re.Mouse)&&(g=null)):ce[d]===ce.Click&&(g=u,u=null);const b=Gr(f)?f.changedTouches[0]:f;if(!b)return;const y=n.getId(h),{clientX:T,clientY:M}=b;$(t)(Object.assign({type:ce[_],id:y,x:T,y:M},g!==null&&{pointerType:g}))};return Object.keys(ce).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=Et(d);const h=l(d);if(window.PointerEvent)switch(ce[d]){case ce.MouseDown:case ce.MouseUp:f=f.replace("mouse","pointer");break;case ce.TouchStart:case ce.TouchEnd:return}c.push(le(f,h,e))}),$(()=>{c.forEach(d=>d())})}function Ga({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=$(Qt($(c=>{const u=on(c);if(!u||ye(u,r,s,i,!0))return;const l=n.getId(u);if(u===e&&e.defaultView){const d=La(e.defaultView);t({id:l,x:d.left,y:d.top})}else t({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return le("scroll",a,e)}function gp({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const s=$(Qt($(()=>{const i=Pa(),o=Fa();(n!==i||r!==o)&&(t({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return le("resize",s,e)}const _p=["INPUT","TEXTAREA","SELECT"],Li=new WeakMap;function yp({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:_}){function b(E){let D=on(E);const H=E.isTrusted,v=D&&qr(D.tagName);if(v==="OPTION"&&(D=D.parentElement),!D||!v||_p.indexOf(v)<0||ye(D,r,s,i,!0))return;const O=D;if(O.classList.contains(o)||a&&O.matches(a))return;const j=xs(D);let ee=Ln(O,v,j),Q=!1;const he=tr({maskInputOptions:c,tagName:v,type:j}),G=vt(D,f,g,h,_,he);(j==="radio"||j==="checkbox")&&(Q=D.checked),ee=Jt({isMasked:G,element:D,value:ee,maskInputFn:u}),y(D,d?{text:ee,isChecked:Q,userTriggered:H}:{text:ee,isChecked:Q});const Ee=D.name;j==="radio"&&Ee&&Q&&e.querySelectorAll(`input[type="radio"][name="${Ee}"]`).forEach(J=>{if(J!==D){const de=Jt({isMasked:G,element:J,value:Ln(J,v,j),maskInputFn:u});y(J,d?{text:de,isChecked:!Q,userTriggered:!1}:{text:de,isChecked:!Q})}})}function y(E,D){const H=Li.get(E);if(!H||H.text!==D.text||H.isChecked!==D.isChecked){Li.set(E,D);const v=n.getId(E);$(t)(Object.assign(Object.assign({},D),{id:v}))}}const M=(l.input==="last"?["change"]:["input","change"]).map(E=>le(E,$(b),e)),S=e.defaultView;if(!S)return()=>{M.forEach(E=>E())};const x=S.Object.getOwnPropertyDescriptor(S.HTMLInputElement.prototype,"value"),w=[[S.HTMLInputElement.prototype,"value"],[S.HTMLInputElement.prototype,"checked"],[S.HTMLSelectElement.prototype,"value"],[S.HTMLTextAreaElement.prototype,"value"],[S.HTMLSelectElement.prototype,"selectedIndex"],[S.HTMLOptionElement.prototype,"selected"]];return x&&x.set&&M.push(...w.map(E=>Na(E[0],E[1],{set(){$(b)({target:this,isTrusted:!1})}},!1,S))),$(()=>{M.forEach(E=>E())})}function $n(t){const e=[];function n(r,s){if(Sn("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Sn("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Sn("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Sn("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(t,e)}function Le(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function Sp({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:$((l,d,f)=>{const[h,g]=f,{id:_,styleId:b}=Le(d,e,n.styleMirror);return(_&&_!==-1||b&&b!==-1)&&t({id:_,styleId:b,adds:[{rule:h,index:g}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:$((l,d,f)=>{const[h]=f,{id:g,styleId:_}=Le(d,e,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&t({id:g,styleId:_,removes:[{index:h}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:$((l,d,f)=>{const[h]=f,{id:g,styleId:_}=Le(d,e,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&t({id:g,styleId:_,replace:h}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:$((l,d,f)=>{const[h]=f,{id:g,styleId:_}=Le(d,e,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&t({id:g,styleId:_,replaceSync:h}),l.apply(d,f)})}));const c={};bn("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(bn("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),bn("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),bn("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:$((f,h,g)=>{const[_,b]=g,{id:y,styleId:T}=Le(h.parentStyleSheet,e,n.styleMirror);return(y&&y!==-1||T&&T!==-1)&&t({id:y,styleId:T,adds:[{rule:_,index:[...$n(h),b||0]}]}),f.apply(h,g)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:$((f,h,g)=>{const[_]=g,{id:b,styleId:y}=Le(h.parentStyleSheet,e,n.styleMirror);return(b&&b!==-1||y&&y!==-1)&&t({id:b,styleId:y,removes:[{index:[...$n(h),_]}]}),f.apply(h,g)})})}),$(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Ya({mirror:t,stylesheetManager:e},n){var r,s,i;let o=null;n.nodeName==="#document"?o=t.getId(n):o=t.getId(n.host);const a=n.nodeName==="#document"?(r=n.defaultView)===null||r===void 0?void 0:r.Document:(i=(s=n.ownerDocument)===null||s===void 0?void 0:s.defaultView)===null||i===void 0?void 0:i.ShadowRoot,c=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!c?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var u;return(u=c.get)===null||u===void 0?void 0:u.call(this)},set(u){var l;const d=(l=c.set)===null||l===void 0?void 0:l.call(this,u);if(o!==null&&o!==-1)try{e.adoptStyleSheets(u,o)}catch(f){}return d}}),$(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function bp({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:$((a,c,u)=>{var l;const[d,f,h]=u;if(n.has(d))return i.apply(c,[d,f,h]);const{id:g,styleId:_}=Le((l=c.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,e,r.styleMirror);return(g&&g!==-1||_&&_!==-1)&&t({id:g,styleId:_,set:{property:d,value:f,priority:h},index:$n(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:$((a,c,u)=>{var l;const[d]=u;if(n.has(d))return o.apply(c,[d]);const{id:f,styleId:h}=Le((l=c.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,e,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&t({id:f,styleId:h,remove:{property:d},index:$n(c.parentRule)}),a.apply(c,u)})}),$(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Ep({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=$(u=>Qt($(l=>{const d=on(l);if(!d||ye(d,e,n,r,!0))return;const{currentTime:f,volume:h,muted:g,playbackRate:_}=d;t({type:u,id:s.getId(d),currentTime:f,volume:h,muted:g,playbackRate:_})}),i.media||500)),c=[le("play",a(0),o),le("pause",a(1),o),le("seeked",a(2),o),le("volumechange",a(3),o),le("ratechange",a(4),o)];return $(()=>{c.forEach(u=>u())})}function vp({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Ds(e.fonts,"add",function(a){return function(c){return setTimeout($(()=>{const u=s.get(c);u&&(t(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),$(()=>{r.forEach(a=>a())})}function Tp(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=t;let a=!0;const c=$(()=>{const u=e.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const h=u.getRangeAt(f),{startContainer:g,startOffset:_,endContainer:b,endOffset:y}=h;ye(g,r,s,i,!0)||ye(b,r,s,i,!0)||l.push({start:n.getId(g),startOffset:_,end:n.getId(b),endOffset:y})}o({ranges:l})});return c(),le("selectionchange",c)}function wp({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:Ds(n.customElements,"define",function(s){return function(i,o,a){try{e({define:{name:i}})}catch(c){}return s.apply(this,[i,o,a])}})}function kp(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=qa(t,t.doc),s=pp(t),i=mp(t),o=Ga(t),a=gp(t,{win:n}),c=yp(t),u=Ep(t),l=Sp(t,{win:n}),d=Ya(t,t.doc),f=bp(t,{win:n}),h=t.collectFonts?vp(t):()=>{},g=Tp(t),_=wp(t);return $(()=>{pt.forEach(b=>b.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),h(),g(),_()})}function Sn(t){return typeof window[t]!="undefined"}function bn(t){return!!(typeof window[t]!="undefined"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Kr{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,s){const i=r||this.getIdToRemoteIdMap(e),o=s||this.getRemoteIdToIdMap(e);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(e,n){const r=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return n.map(i=>this.getId(e,i,r,s))}getRemoteId(e,n,r){const s=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getRemoteId(e,s,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}class Ip{constructor(){this.crossOriginIframeMirror=new Kr(Os),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Rp{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Kr(Os),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Kr(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const s=this.crossOriginIframeMap.get(e.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(e,n){var r;switch(n.type){case L.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:L.IncrementalSnapshot,data:{source:N.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case L.Meta:case L.Load:case L.DomContentLoaded:return!1;case L.Plugin:return n;case L.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case L.IncrementalSnapshot:switch(n.data.source){case N.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,e);const i=this.crossOriginIframeRootIdMap.get(e);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,e,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,e,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,e,["id"])}),n;case N.Drag:case N.TouchMove:case N.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,e,["id"])}),n;case N.ViewportResize:return!1;case N.MediaInteraction:case N.MouseInteraction:case N.Scroll:case N.CanvasMutation:case N.Input:return this.replaceIds(n.data,e,["id"]),n;case N.StyleSheetRule:case N.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case N.Font:return n;case N.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,e,["start","end"])}),n;case N.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),(r=n.data.styles)===null||r===void 0||r.forEach(s=>{this.replaceStyleIds(s,e,["styleId"])}),n}}return!1}replace(e,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=e.getIds(r,n[i]):n[i]=e.getId(r,n[i]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==re.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Cp{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class xp{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!Yt(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=qa(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Ga(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Ya({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(Ds(e.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&ja(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(n){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Op{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class Mp{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new ap,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of e){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Oa(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Dp{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(s=>s!==n)}add(e,n){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function se(t){const e=t;return e.timestamp=Fn(),e}let Bn;const Ce=Lh();function Ue(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:h=null,inlineStylesheet:g=!0,maskAllInputs:_,maskInputOptions:b,slimDOMOptions:y,maskAttributeFn:T,maskInputFn:M,maskTextFn:S,packFn:x,sampling:w={},dataURLOptions:E={},mousemoveWait:D,recordCanvas:H=!1,recordCrossOriginIframes:v=!1,recordAfter:O=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:j=!1,collectFonts:ee=!1,inlineImages:Q=!1,keepIframeSrcFn:he=()=>!1,ignoreCSSAttributes:G=new Set([]),errorHandler:Ee,onMutation:J,getCanvasManager:de}=t;fp(Ee);const _e=v?window.parent===window:!0;let rt=!1;if(!_e)try{window.parent.document&&(rt=!1)}catch(F){rt=!0}if(_e&&!e)throw new Error("emit function is required");D!==void 0&&w.mousemove===void 0&&(w.mousemove=D),Ce.reset();const st=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},Ge=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};op();let $t,Bt=0;const $s=F=>(x&&!rt&&(F=x(F)),F),te=(F,Ne)=>{var V;if(!((V=pt[0])===null||V===void 0)&&V.isFrozen()&&F.type!==L.FullSnapshot&&!(F.type===L.IncrementalSnapshot&&F.data.source===N.Mutation)&&pt.forEach(ae=>ae.unfreeze()),_e)e==null||e($s(F),Ne);else if(rt){const ae={type:"rrweb",event:$s(F),origin:window.location.origin,isCheckout:Ne};window.parent.postMessage(ae,"*")}if(F.type===L.FullSnapshot)$t=F,Bt=0;else if(F.type===L.IncrementalSnapshot){if(F.data.source===N.Mutation&&F.data.isAttachIframe)return;Bt++;const ae=r&&Bt>=r,K=n&&F.timestamp-$t.timestamp>n;(ae||K)&&lr(!0)}},an=F=>{te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.Mutation},F)}))},Bs=F=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.Scroll},F)})),Oc=F=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.CanvasMutation},F)})),Mc=F=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.AdoptedStyleSheet},F)})),Ye=new Mp({mutationCb:an,adoptedStyleSheetCb:Mc}),Ht=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Ip:new Rp({mirror:Ce,mutationCb:an,stylesheetManager:Ye,recordCrossOriginIframes:v,wrappedEmit:te}),ur=new Dp,Hs=de?de({recordCanvas:H,blockClass:s,blockSelector:i,unblockSelector:o,sampling:w.canvas,dataURLOptions:E}):new Op,cn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Cp:new xp({mutationCb:an,scrollCb:Bs,bypassOptions:{onMutation:J,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:g,maskInputOptions:st,dataURLOptions:E,maskAttributeFn:T,maskTextFn:S,maskInputFn:M,recordCanvas:H,inlineImages:Q,sampling:w,slimDOMOptions:Ge,iframeManager:Ht,stylesheetManager:Ye,canvasManager:Hs,keepIframeSrcFn:he,processedNodeManager:ur},mirror:Ce}),lr=(F=!1)=>{te(se({type:L.Meta,data:{href:window.location.href,width:Fa(),height:Pa()}}),F),Ye.reset(),cn.init(),pt.forEach(V=>V.lock());const Ne=sp(document,{mirror:Ce,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:g,maskAllInputs:st,maskAttributeFn:T,maskInputFn:M,maskTextFn:S,slimDOM:Ge,dataURLOptions:E,recordCanvas:H,inlineImages:Q,onSerialize:V=>{Ba(V,Ce)&&Ht.addIframe(V),Ha(V,Ce)&&Ye.trackLinkElement(V),Yr(V)&&cn.addShadowRoot(V.shadowRoot,document)},onIframeLoad:(V,ae)=>{Ht.attachIframe(V,ae),cn.observeAttachShadow(V)},onStylesheetLoad:(V,ae)=>{Ye.attachLinkElement(V,ae)},keepIframeSrcFn:he});if(!Ne)return console.warn("Failed to snapshot the document");te(se({type:L.FullSnapshot,data:{node:Ne,initialOffset:La(window)}}),F),pt.forEach(V=>V.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ye.adoptStyleSheets(document.adoptedStyleSheets,Ce.getId(document))};Bn=lr;try{const F=[],Ne=ae=>$(kp)({onMutation:J,mutationCb:an,mousemoveCb:(K,Dc)=>te(se({type:L.IncrementalSnapshot,data:{source:Dc,positions:K}})),mouseInteractionCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.MouseInteraction},K)})),scrollCb:Bs,viewportResizeCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.ViewportResize},K)})),inputCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.Input},K)})),mediaInteractionCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.MediaInteraction},K)})),styleSheetRuleCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.StyleSheetRule},K)})),styleDeclarationCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.StyleDeclaration},K)})),canvasMutationCb:Oc,fontCb:K=>te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.Font},K)})),selectionCb:K=>{te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.Selection},K)}))},customElementCb:K=>{te(se({type:L.IncrementalSnapshot,data:Object.assign({source:N.CustomElement},K)}))},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,maskInputOptions:st,inlineStylesheet:g,sampling:w,recordCanvas:H,inlineImages:Q,userTriggeredOnInput:j,collectFonts:ee,doc:ae,maskAttributeFn:T,maskInputFn:M,maskTextFn:S,keepIframeSrcFn:he,blockSelector:i,unblockSelector:o,slimDOMOptions:Ge,dataURLOptions:E,mirror:Ce,iframeManager:Ht,stylesheetManager:Ye,shadowDomManager:cn,processedNodeManager:ur,canvasManager:Hs,ignoreCSSAttributes:G,plugins:[]},{});Ht.addLoadListener(ae=>{try{F.push(Ne(ae.contentDocument))}catch(K){console.warn(K)}});const V=()=>{lr(),F.push(Ne(document))};return document.readyState==="interactive"||document.readyState==="complete"?V():(F.push(le("DOMContentLoaded",()=>{te(se({type:L.DomContentLoaded,data:{}})),O==="DOMContentLoaded"&&V()})),F.push(le("load",()=>{te(se({type:L.Load,data:{}})),O==="load"&&V()},window))),()=>{F.forEach(ae=>ae()),ur.destroy(),Bn=void 0,hp()}}catch(F){console.warn(F)}}function Ap(t){if(!Bn)throw new Error("please take full snapshot after start recording");Bn(t)}Ue.mirror=Ce;Ue.takeFullSnapshot=Ap;const Np=3,Lp=5;function As(t){return t>9999999999?t:t*1e3}function Sr(t){return t>9999999999?t/1e3:t}function nr(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:L.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:we(e,10,1e3)}}),e.category==="console")))}const Pp="button,a";function Va(t){return t.closest(Pp)||t}function Ka(t){const e=Xa(t);return!e||!(e instanceof Element)?e:Va(e)}function Xa(t){return Fp(t)?t.target:t}function Fp(t){return typeof t=="object"&&!!t&&"target"in t}let Pe;function $p(t){return Pe||(Pe=[],Bp()),Pe.push(t),()=>{const e=Pe?Pe.indexOf(t):-1;e>-1&&Pe.splice(e,1)}}function Bp(){ie(W,"open",function(t){return function(...e){if(Pe)try{Pe.forEach(n=>n())}catch(n){}return t.apply(W,e)}})}function Hp(t,e,n){t.handleClick(e,n)}class Up{constructor(e,n,r=nr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=$p(()=>{this._lastMutation=Pi()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(zp(n,this._ignoreSelector)||!Wp(e))return;const r={timestamp:Sr(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Sr(e)}registerScroll(e=Date.now()){this._lastScroll=Sr(e)}registerClick(e){const n=Va(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=Pi();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,s=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=e;if(i){const c=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:I(p({},a.data),{url:W.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1})};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:I(p({},a.data),{url:W.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0})};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const jp=["A","BUTTON","INPUT"];function zp(t,e){return!!(!jp.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function Wp(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function Pi(){return Date.now()/1e3}function qp(t,e){try{if(!Gp(e))return;const{source:n}=e.data;if(n===N.Mutation&&t.registerMutation(e.timestamp),n===N.Scroll&&t.registerScroll(e.timestamp),Yp(e)){const{type:r,id:s}=e.data,i=Ue.mirror.getNode(s);i instanceof HTMLElement&&r===ce.Click&&t.registerClick(i)}}catch(n){}}function Gp(t){return t.type===Np}function Yp(t){return t.data.source===N.MouseInteraction}function Oe(t){return p({timestamp:Date.now()/1e3,type:"default"},t)}var Hn;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Hn||(Hn={}));const Vp=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function Kp(t){const e={};for(const n in t)if(Vp.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const Xp=t=>e=>{if(!t.isEnabled())return;const n=Jp(e);if(!n)return;const r=e.name==="click",s=r?e.event:void 0;r&&t.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&Hp(t.clickDetector,n,Ka(e.event)),nr(t,n)};function Ja(t,e){const n=Ue.mirror.getId(t),r=n&&Ue.mirror.getNode(n),s=r&&Ue.mirror.getMeta(r),i=s&&Qp(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Hn.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:Kp(i.attributes)}}:{}}}function Jp(t){const{target:e,message:n}=Zp(t);return Oe(p({category:`ui.${t.name}`},Ja(e,n)))}function Zp(t){const e=t.name==="click";let n,r=null;try{r=e?Ka(t.event):Xa(t.event),n=ze(r,{maxStringLength:200})||"<unknown>"}catch(s){n="<unknown>"}return{target:r,message:n}}function Qp(t){return t.type===Hn.Element}function em(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=tm(e);n&&nr(t,n)}function tm(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=t;if(!o||nm(o)||!i)return null;const a=e||r||s,c=i.length===1;if(!a&&c)return null;const u=ze(o,{maxStringLength:200})||"<unknown>",l=Ja(o,u);return Oe({category:"ui.keyDown",message:u,data:I(p({},l.data),{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i})})}function nm(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const Fi={resource:am,paint:im,navigation:om};function rm(t){return t.map(sm).filter(Boolean)}function sm(t){return Fi[t.entryType]?Fi[t.entryType](t):null}function Tt(t){return((ge||W.performance.timeOrigin)+t)/1e3}function im(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=Tt(s);return{type:n,name:r,start:i,end:i+e,data:void 0}}function om(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:h,transferSize:g,type:_}=t;return s===0?null:{type:`${e}.${_}`,start:Tt(h),end:Tt(i),name:n,data:{size:g,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function am(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Tt(i),end:Tt(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function cm(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,s=t.value,i=Tt(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Ue.mirror.getId(r):void 0}}}function um(t){function e(s){t.performanceEntries.includes(s)||t.performanceEntries.push(s)}function n({entries:s}){s.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Qn(s,n))}),r.push(wa(({metric:s})=>{t.replayPerformanceEntries.push(cm(s))})),()=>{r.forEach(s=>s())}}const q=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,lm='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function dm(){const t=new Blob([lm]);return URL.createObjectURL(t)}function ue(t,e){q&&(m.info(t),e&&Za(t))}function gt(t,e){q&&(m.info(t),e&&setTimeout(()=>{Za(t)},0))}function Za(t){C().addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class Ns extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Cs}.`)}}class Qa{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return A(this,null,function*(){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>Cs)throw new Ns;this.events.push(e)})}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?As(e):null}}class fm{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ue("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===e&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){q&&m.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class hm{constructor(e){this._worker=new fm(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=As(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>Cs?Promise.reject(new Ns):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return A(this,null,function*(){const e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}}class pm{constructor(e){this._fallback=new Qa,this._compression=new hm(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return A(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return A(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){ue("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return A(this,null,function*(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{yield Promise.all(r)}catch(s){q&&m.warn("[Replay] Failed to add events when switching buffers.",s)}})}}function mm({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=gm(e);if(n)return n}return ue("[Replay] Using simple buffer"),new Qa}function gm(t){try{const e=t||_m();if(!e)return;ue(`[Replay] Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new pm(n)}catch(e){ue("[Replay] Failed to create compression worker")}}function _m(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?dm():""}function Ls(){try{return"sessionStorage"in W&&!!W.sessionStorage}catch(t){return!1}}function ym(t){Sm(),t.session=void 0}function Sm(){if(Ls())try{W.sessionStorage.removeItem(Is)}catch(t){}}function ec(t){return t===void 0?!1:Math.random()<t}function tc(t){const e=Date.now(),n=t.id||oe(),r=t.started||e,s=t.lastActivity||e,i=t.segmentId||0,o=t.sampled,a=t.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function Ps(t){if(Ls())try{W.sessionStorage.setItem(Is,JSON.stringify(t))}catch(e){}}function bm(t,e){return ec(t)?"session":e?"buffer":!1}function $i({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=bm(t,e),i=tc({sampled:s,previousSessionId:r});return n&&Ps(i),i}function Em(t){if(!Ls())return null;try{const e=W.sessionStorage.getItem(Is);if(!e)return null;const n=JSON.parse(e);return gt("[Replay] Loading existing session",t),tc(n)}catch(e){return null}}function Xr(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function nc(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return Xr(t.started,e,r)||Xr(t.lastActivity,n,r)}function rc(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!nc(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function br({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&Em(t);return i?rc(i,{sessionIdleExpire:e,maxReplayDuration:n})?(gt("[Replay] Session in sessionStorage is expired, creating new one..."),$i(s,{previousSessionId:i.id})):i:(gt("[Replay] Creating new session",t),$i(s,{previousSessionId:r}))}function vm(t){return t.type===L.Custom}function Fs(t,e,n){return ic(t,e)?(sc(t,e,n),!0):!1}function Tm(t,e,n){return ic(t,e)?sc(t,e,n):Promise.resolve(null)}function sc(t,e,n){return A(this,null,function*(){if(!t.eventBuffer)return null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=t.getOptions(),s=wm(e,r.beforeAddRecordingEvent);return s?yield t.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof Ns?"addEventSizeExceeded":"addEvent";q&&m.error(r),yield t.stop({reason:s});const i=fe();i&&i.recordDroppedEvent("internal_sdk_error","replay")}})}function ic(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=As(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(ue(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function wm(t,e){try{if(typeof e=="function"&&vm(t))return e(t)}catch(n){return q&&m.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return t}function oc(t){return!t.type}function Jr(t){return t.type==="transaction"}function km(t){return t.type==="replay_event"}function Bi(t){return t.type==="feedback"}function ac(t){const e=Cm();return(n,r)=>{if(!t.isEnabled()||!oc(n)&&!Jr(n))return;const s=r&&r.statusCode;if(!(e&&(!s||s<200||s>=300))){if(Jr(n)){Im(t,n);return}Rm(t,n)}}}function Im(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function Rm(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function Cm(){const t=fe();if(!t)return!1;const e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function xm(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}function Om(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:L.Custom,timestamp:e.timestamp*1e3,data:{timestamp:e.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function Mm(t,e){return t.recordingMode!=="buffer"||e.message===Rs||!e.exception||e.type?!1:ec(t.getOptions().errorSampleRate)}function Dm(t,e=!1){const n=e?ac(t):void 0;return Object.assign((r,s)=>t.isEnabled()?km(r)?(delete r.breadcrumbs,r):!oc(r)&&!Jr(r)&&!Bi(r)||!t.checkAndHandleExpiredSession()?r:Bi(r)?(t.flush(),r.contexts.feedback.replay_id=t.getSessionId(),Om(t,r),r):xm(r,s)&&!t.getOptions()._experiments.captureExceptions?(q&&m.log("[Replay] Ignoring error from rrweb internals",r),null):((Mm(t,r)||t.recordingMode==="session")&&(r.tags=I(p({},r.tags),{replayId:t.getSessionId()})),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function rr(t,e){return e.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=t.throttledAddEvent({type:L.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function Am(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function Nm(t){return e=>{if(!t.isEnabled())return;const n=Am(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(rr(t,[n]),!1)))}}function Lm(t,e){return q&&t.getOptions()._experiments.traceInternals?!1:yd(e,C())}function sr(t,e){t.isEnabled()&&e!==null&&(Lm(t,e.name)||t.addUpdate(()=>(rr(t,[e]),!0)))}function Pm(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:s}=t;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function Fm(t){return e=>{if(!t.isEnabled())return;const n=Pm(e);sr(t,n)}}function $m(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,s=r[Be];if(!e||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function Bm(t){return e=>{if(!t.isEnabled())return;const n=$m(e);sr(t,n)}}function ir(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=dc(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(n){}}function cc(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function uc(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[dc(t)];if(!t)return[void 0]}catch(e){return q&&m.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return q&&m.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Un(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n=p({},t._meta),r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function lc(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:Se({method:i,statusCode:o,request:a,response:c})}}function en(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function je(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=Hm(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function Zr(t,e){return Object.keys(t).reduce((n,r)=>{const s=r.toLowerCase();return e.includes(s)&&t[r]&&(n[s]=t[r]),n},{})}function dc(t){return new URLSearchParams(t).toString()}function Hm(t){if(!t||typeof t!="string")return{body:t};const e=t.length>Ii,n=Um(t);if(e){const r=t.slice(0,Ii);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(r){}return{body:t}}function Um(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function jn(t,e){const n=jm(t);return It(n,e)}function jm(t,e=W.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(W.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function zm(t,e,n){return A(this,null,function*(){try{const r=yield qm(t,e,n),s=lc("resource.fetch",r);sr(n.replay,s)}catch(r){q&&m.error("[Replay] Failed to capture fetch breadcrumb",r)}})}function Wm(t,e,n){const{input:r,response:s}=e,i=r?fc(r):void 0,o=ir(i,n.textEncoder),a=s?cc(s.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),a!==void 0&&(t.data.response_body_size=a)}function qm(t,e,n){return A(this,null,function*(){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,d=jn(o,n.networkDetailAllowUrls)&&!jn(o,n.networkDetailDenyUrls),f=d?Gm(n,e.input,u):en(u),h=yield Ym(d,n,e.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:h}})}function Gm({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?Xm(n,e):{};if(!t)return je(s,r,void 0);const i=fc(n),[o,a]=uc(i),c=je(s,r,o);return a?Un(c,a):c}function Ym(o,a,c,u){return A(this,arguments,function*(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&i!==void 0)return en(i);const l=s?hc(s.headers,r):{};if(!s||!e&&i!==void 0)return je(l,i,void 0);const[d,f]=yield Km(s),h=Vm(d,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:l});return f?Un(h,f):h})}function Vm(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&r===void 0?ir(t,n):r;return s?e?je(i,o,t):je(i,o,void 0):en(o)}catch(o){return q&&m.warn("[Replay] Failed to serialize response body",o),je(i,r,void 0)}}function Km(t){return A(this,null,function*(){const e=Jm(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Zm(e)]}catch(n){return q&&m.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}})}function fc(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function hc(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function Xm(t,e){return t.length===1&&typeof t[0]!="string"?Hi(t[0],e):t.length===2?Hi(t[1],e):{}}function Hi(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?hc(n,e):Array.isArray(n)?{}:Zr(n,e):{}}function Jm(t){try{return t.clone()}catch(e){q&&m.warn("[Replay] Failed to clone response body",e)}}function Zm(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);Qm(t).then(s=>e(s),s=>n(s)).finally(()=>clearTimeout(r))})}function Qm(t){return A(this,null,function*(){return yield t.text()})}function eg(t,e,n){return A(this,null,function*(){try{const r=ng(t,e,n),s=lc("resource.xhr",r);sr(n.replay,s)}catch(r){q&&m.error("[Replay] Failed to capture xhr breadcrumb",r)}})}function tg(t,e,n){const{xhr:r,input:s}=e;if(!r)return;const i=ir(s,n.textEncoder),o=r.getResponseHeader("content-length")?cc(r.getResponseHeader("content-length")):og(r.response,r.responseType,n.textEncoder);i!==void 0&&(t.data.request_body_size=i),o!==void 0&&(t.data.response_body_size=o)}function ng(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=t.data;if(!c)return null;if(!a||!jn(c,n.networkDetailAllowUrls)||jn(c,n.networkDetailDenyUrls)){const w=en(d),E=en(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:w,response:E}}const h=a[Be],g=h?Zr(h.request_headers,n.networkRequestHeaders):{},_=Zr(rg(a),n.networkResponseHeaders),[b,y]=n.networkCaptureBodies?uc(o):[void 0],[T,M]=n.networkCaptureBodies?sg(a):[void 0],S=je(g,d,b),x=je(_,f,T);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:y?Un(S,y):S,response:M?Un(x,M):x}}function rg(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function sg(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return ig(t.response,t.responseType)}catch(n){e.push(n)}return q&&m.warn("[Replay] Failed to get xhr response body",...e),[void 0]}function ig(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return q&&m.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return q&&m.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function og(t,e,n){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return ir(r,n)}catch(r){return}}function ag(t){const e=fe();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",(u,l)=>cg(c,u,l)):(is(Fm(t)),os(Bm(t)))}catch(n){}}function cg(t,e,n){if(e.data)try{ug(e)&&dg(n)&&(tg(e,n,t),eg(e,n,t)),lg(e)&&fg(n)&&(Wm(e,n,t),zm(e,n,t))}catch(r){q&&m.warn("Error when enriching network breadcrumb")}}function ug(t){return t.category==="xhr"}function lg(t){return t.category==="fetch"}function dg(t){return t&&t.xhr}function fg(t){return t&&t.response}let Ui=null;function hg(t){return!!t.category}const pg=t=>e=>{if(!t.isEnabled())return;const n=mg(e);n&&nr(t,n)};function mg(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return Ui===e||!e||(Ui=e,!hg(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?gg(e):Oe(e)}function gg(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return Oe(t);let n=!1;const r=e.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>yn?(n=!0,`${s.slice(0,yn)}`):s;if(typeof s=="object")try{const i=we(s,7);return JSON.stringify(i).length>yn?(n=!0,`${JSON.stringify(i,null,2).slice(0,yn)}`):i}catch(i){}return s});return Oe(I(p({},t),{data:p(I(p({},t.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function _g(t){const e=C().getScope(),n=fe();e.addScopeListener(pg(t)),So(Xp(t)),qn(Nm(t)),ag(t);const r=Dm(t,!ji(n));n&&n.addEventProcessor?n.addEventProcessor(r):Ko(r),ji(n)&&(n.on("afterSendEvent",ac(t)),n.on("createDsc",s=>{const i=t.getSessionId();i&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{t.lastTransaction=s}),n.on("finishTransaction",s=>{t.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=t.getSessionId();i&&i.includeReplay&&t.isEnabled()&&o&&(t.flush(),s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o))}))}function ji(t){return!!(t&&t.on)}function yg(t){return A(this,null,function*(){try{return Promise.all(rr(t,[Sg(W.performance.memory)]))}catch(e){return[]}})}function Sg(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function bg(t,e,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return c(),r=t(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,e),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function Eg(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){q&&m.warn("[Replay] Received replay event after session expired.");return}const s=r||!e;e=!0,t.clickDetector&&qp(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&s&&t.setInitialState(),!Fs(t,n,s))return!0;if(!s)return!1;if(Tg(t,s),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const i=t.eventBuffer.getEarliestTimestamp();i&&(ue(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,t.getOptions()._experiments.traceInternals),t.session.started=i,t.getOptions().stickySession&&Ps(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function vg(t){const e=t.getOptions();return{type:L.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function Tg(t,e){!e||!t.session||t.session.segmentId!==0||Fs(t,vg(t),!1)}function wg(t,e,n,r){return Ct(xo(t,ls(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function kg({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}function Ig(s){return A(this,arguments,function*({client:t,scope:e,replayId:n,event:r}){const i=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,o={event_id:n,integrations:i};t.emit&&t.emit("preprocessEvent",r,o);const a=yield ps(t.getOptions(),r,o,e,t);if(!a)return null;a.platform=a.platform||"javascript";const c=t.getSdkMetadata&&t.getSdkMetadata(),{name:u,version:l}=c&&c.sdk||{};return a.sdk=I(p({},a.sdk),{name:u||"sentry.javascript.unknown",version:l||"0.0.0"}),a})}function Rg(o){return A(this,arguments,function*({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const a=kg({recordingData:t,headers:{segment_id:n}}),{urls:c,errorIds:u,traceIds:l,initialTimestamp:d}=r,f=C(),h=f.getClient(),g=f.getScope(),_=h&&h.getTransport(),b=h&&h.getDsn();if(!h||!_||!b||!i.sampled)return;const y={type:_h,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:u,trace_ids:l,urls:c,replay_id:e,segment_id:n,replay_type:i.sampled},T=yield Ig({scope:g,client:h,replayId:e,event:y});if(!T){h.recordDroppedEvent("event_processor","replay",y),ue("An event processor returned `null`, will not send event.");return}delete T.sdkProcessingMetadata;const M=wg(T,a,b,h.getOptions().tunnel);let S;try{S=yield _.send(M)}catch(w){const E=new Error(Rs);try{E.cause=w}catch(D){}throw E}if(!S)return S;if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new pc(S.statusCode);const x=Do({},S);if(Mo(x,"replay"))throw new mc(x);return S})}class pc extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class mc extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}function gc(n){return A(this,arguments,function*(t,e={count:0,interval:Th}){const{recordingData:r,options:s}=t;if(r.length)try{return yield Rg(t),!0}catch(i){if(i instanceof pc||i instanceof mc)throw i;if(Bo("Replays",{_retryCount:e.count}),q&&s._experiments&&s._experiments.captureExceptions&&Kn(i),e.count>=wh){const o=new Error(`${Rs} - max retries exceeded`);try{o.cause=i}catch(a){}throw o}return e.interval*=++e.count,new Promise((o,a)=>{setTimeout(()=>A(this,null,function*(){try{yield gc(t,e),o(!0)}catch(c){a(c)}}),e.interval)})}})}const _c="__THROTTLED",Cg="__SKIPPED";function xg(t,e,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=e){const l=o;return o=!0,l?Cg:_c}o=!1;const u=r.get(c)||0;return r.set(c,u+1),t(...a)}}class Fe{constructor({options:e,recordingOptions:n}){Fe.prototype.__init.call(this),Fe.prototype.__init2.call(this),Fe.prototype.__init3.call(this),Fe.prototype.__init4.call(this),Fe.prototype.__init5.call(this),Fe.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:yh,sessionIdleExpire:Sh},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=bg(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=xg((o,a)=>Tm(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(kh,r),timeout:r,scrollTimeout:Ih,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new Up(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",gt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");gt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=br({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");gt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=br({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=Ue(I(p(p({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:vh}),{emit:Eg(this),onMutation:this._onMutationHandler}))}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}stop(){return A(this,arguments,function*({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ue(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ym(this)}catch(r){this._handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ue("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ue("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return A(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();ue("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Xr(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${W.location.pathname}${W.location.hash}${W.location.search}`,n=`${W.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===_c){const s=Oe({category:"replay.throttled"});this.addUpdate(()=>!Fs(this,{type:Lp,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastTransaction||C().getScope().getTransaction();if(!(!e||!["route","custom"].includes(e.metadata.source)))return e.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=mm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){q&&m.error("[Replay]",e),q&&this._options._experiments&&this._options._experiments.captureExceptions&&Kn(e)}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=br({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return rc(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return A(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{W.document.addEventListener("visibilitychange",this._handleVisibilityChange),W.addEventListener("blur",this._handleWindowBlur),W.addEventListener("focus",this._handleWindowFocus),W.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(_g(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=um(this)}_removeListeners(){try{W.document.removeEventListener("visibilitychange",this._handleVisibilityChange),W.removeEventListener("blur",this._handleWindowBlur),W.removeEventListener("focus",this._handleWindowFocus),W.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{W.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{em(this,e)}}_doChangeToBackgroundTasks(e){!this.session||nc(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ue("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:L.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=rm(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(rr(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return A(this,null,function*(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){q&&m.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield yg(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=yield this.eventBuffer.finish();yield gc({replayId:e,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=fe();r&&r.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...n)=>A(this,[...n],function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){q&&m.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,i=Date.now()-r;this._debouncedFlush.cancel();const o=i<this._options.minReplayDuration,a=i>this._options.maxReplayDuration+5e3;if(o||a){ue(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${o?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),o&&this._debouncedFlush();return}const c=this.eventBuffer;if(c&&this.session.segmentId===0&&!c.hasCheckout&&ue("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(u){q&&m.error(u)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Ps(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Oe({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function jt(t,e,n,r){const s=typeof r=="string"?r.split(","):[],i=[...t,...s,...e];return typeof n!="undefined"&&(typeof n=="string"&&i.push(`.${n}`),Xe(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function Og({mask:t,unmask:e,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=jt(t,[".sentry-mask","[data-sentry-mask]"],a,c),f=jt(e,[".sentry-unmask","[data-sentry-unmask]"]),h={maskTextSelector:d,unmaskTextSelector:f,blockSelector:jt(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:jt(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:jt(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(h.blockClass=i),a instanceof RegExp&&(h.maskTextClass=a),h}function Mg({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const zi='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Dg=["content-length","content-type","accept"];let Wi=!1;class or{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=bh,flushMaxDelay:n=Eh,minReplayDuration:r=Rh,maxReplayDuration:s=Ri,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:g=750,mutationLimit:_=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:T=[],networkDetailDenyUrls:M=[],networkCaptureBodies:S=!0,networkRequestHeaders:x=[],networkResponseHeaders:w=[],mask:E=[],maskAttributes:D=["title","placeholder"],unmask:H=[],block:v=[],unblock:O=[],ignore:j=[],maskFn:ee,beforeAddRecordingEvent:Q,beforeErrorSampling:he,blockClass:G,blockSelector:Ee,maskInputOptions:J,maskTextClass:de,maskTextSelector:_e,ignoreClass:rt}={}){this.name=or.id;const st=Og({mask:E,unmask:H,block:v,unblock:O,ignore:j,blockClass:G,blockSelector:Ee,maskTextClass:de,maskTextSelector:_e,ignoreClass:rt});if(this._recordingOptions=I(p({maskAllInputs:f,maskAllText:d,maskInputOptions:I(p({},J||{}),{password:!0}),maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(Ge,$t,Bt)=>Mg({maskAttributes:D,maskAllText:d,privacyOptions:st,key:Ge,value:$t,el:Bt})},st),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ge=>{try{Ge.__rrweb__=!0}catch($t){}}}),this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,Ch),maxReplayDuration:Math.min(s,Ri),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:h,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:g,mutationLimit:_,slowClickTimeout:b,slowClickIgnoreSelectors:y,networkDetailAllowUrls:T,networkDetailDenyUrls:M,networkCaptureBodies:S,networkRequestHeaders:qi(x),networkResponseHeaders:qi(w),beforeAddRecordingEvent:Q,beforeErrorSampling:he,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${zi}`:zi),this._isInitialized&&Ar())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Wi}set _isInitialized(e){Wi=e}setupOnce(){Ar()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const e=Ag(this._initialOptions);this._replay=new Fe({options:e,recordingOptions:this._recordingOptions})}}or.__initStatic();function Ag(t){const e=fe(),n=e&&e.getOptions(),r=p({sessionSampleRate:0,errorSampleRate:0},Se(t));return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&Xe(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(Xe(()=>{console.warn("SDK client is not available.")}),r)}function qi(t){return[...Dg,...t.map(e=>e.toLowerCase())]}const nt=P,Er="#ffffff",Gi="inherit",vr="rgba(108, 95, 199, 1)",Yi={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Er,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:vr,submitBorder:vr,submitOutlineFocus:"#29232f",submitForeground:Er,submitForegroundHover:Er,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Gi,inputForeground:Gi,inputBorder:"var(--border)",inputOutlineFocus:vr},Vi={light:Yi,dark:I(p({},Yi),{background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"})},Ng="Report a Bug",Lg="Cancel",Pg="Send Bug Report",Fg="Report a Bug",$g="your.email@example.org",Bg="Email",Hg="What's the bug? What did you expect?",Ug="Description",jg="Your Name",zg="Name",Wg="Thank you for your report!",yc="widget",Sc="api";function qg(r){return A(this,arguments,function*({client:t,scope:e,event:n}){const s={};t.emit&&t.emit("preprocessEvent",n,s);const i=yield ps(t.getOptions(),n,s,e,t);return i===null?(t.recordDroppedEvent("event_processor","feedback",n),null):(i.platform=i.platform||"javascript",i)})}function Gg(o){return A(this,arguments,function*({feedback:{message:t,email:e,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const a=C(),c=a.getClient(),u=c&&c.getTransport(),l=c&&c.getDsn();if(!c||!u||!l)return;const d={contexts:{feedback:{contact_email:e,name:n,message:t,url:s,source:r}},type:"feedback"};return new Promise((f,h)=>{a.withScope(g=>A(this,null,function*(){g.clearBreadcrumbs(),[Sc,yc].includes(String(r))&&g.setLevel("info");const _=yield qg({scope:g,client:c,event:d});if(_===null){f();return}c&&c.emit&&c.emit("beforeSendFeedback",_,{includeReplay:!!i});const b=zo(_,l,c.getOptions()._metadata,c.getOptions().tunnel);let y;try{y=yield u.send(b)}catch(T){const M=new Error("Unable to send Feedback");try{M.cause=T}catch(S){}h(M)}if(!y){f(y);return}typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300)&&h(new Error("Unable to send Feedback")),f(y)}))})})}function Yg({name:t,email:e,message:n,source:r=Sc,url:s=co()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Gg({feedback:{name:t,email:e,message:n,url:s,source:r}},i)}const lt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Ki(t,e){return I(p(p({},t),e),{themeDark:p(p({},t.themeDark),e.themeDark),themeLight:p(p({},t.themeLight),e.themeLight)})}function Vg(t){const e=t.createElement("style");return e.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,e}function Kg(t){const e=t.createElement("style");return e.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: 20px;
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: 6px;
  color: var(--input-foreground);
  font-size: 14px;
  font-weight: 500;
  padding: 6px 12px;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: 12px;
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,e}function Xi(t){return`
  --background: ${t.background};
  --background-hover: ${t.backgroundHover};
  --foreground: ${t.foreground};
  --error: ${t.error};
  --success: ${t.success};
  --border: ${t.border};
  --box-shadow: ${t.boxShadow};

  --submit-background: ${t.submitBackground};
  --submit-background-hover: ${t.submitBackgroundHover};
  --submit-border: ${t.submitBorder};
  --submit-outline-focus: ${t.submitOutlineFocus};
  --submit-foreground: ${t.submitForeground};
  --submit-foreground-hover: ${t.submitForegroundHover};

  --cancel-background: ${t.cancelBackground};
  --cancel-background-hover: ${t.cancelBackgroundHover};
  --cancel-border: ${t.cancelBorder};
  --cancel-outline-focus: ${t.cancelOutlineFocus};
  --cancel-foreground: ${t.cancelForeground};
  --cancel-foreground-hover: ${t.cancelForegroundHover};

  --input-background: ${t.inputBackground};
  --input-foreground: ${t.inputForeground};
  --input-border: ${t.inputBorder};
  --input-outline-focus: ${t.inputOutlineFocus};
  `}function Xg(t,e,n){const r=t.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Xi(e==="dark"?n.dark:n.light)}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Xi(n.dark)}
  }
}`:""}
}`,r}function Jg({id:t,colorScheme:e,themeDark:n,themeLight:r}){try{const s=nt.document,i=s.createElement("div");i.id=t;const o=i.attachShadow({mode:"open"});return o.appendChild(Xg(s,e,{dark:n,light:r})),o.appendChild(Kg(s)),{shadow:o,host:i}}catch(s){throw m.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}function Zg(t,e,n){return A(this,null,function*(){if(!t)return;const r=()=>{t&&t.showError("There was a problem submitting feedback, please wait and try again.")};t.hideError();try{return yield Yg(I(p({},e),{source:yc}),n)}catch(s){lt&&m.error(s),r()}})}function me(t,e){return Object.entries(e).forEach(([n,r])=>{t.setAttributeNS(null,n,r)}),t}const at=20,Qg="http://www.w3.org/2000/svg";function e_(){const t=a=>nt.document.createElementNS(Qg,a),e=me(t("svg"),{class:"feedback-icon",width:`${at}`,height:`${at}`,viewBox:`0 0 ${at} ${at}`,fill:"none"}),n=me(t("g"),{clipPath:"url(#clip0_57_80)"}),r=me(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const s=t("defs"),i=me(t("clipPath"),{id:"clip0_57_80"}),o=me(t("rect"),{width:`${at}`,height:`${at}`,fill:"white"});return i.appendChild(o),s.appendChild(i),e.appendChild(s).appendChild(i).appendChild(o),{get el(){return e}}}function Y(t,e,...n){const s=nt.document.createElement(t);e&&Object.entries(e).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)bc(s,i);return s}function bc(t,e){const n=nt.document;if(!(typeof e=="undefined"||e===null))if(Array.isArray(e))for(const r of e)bc(t,r);else e===!1||(typeof e=="string"?t.appendChild(n.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(n.createTextNode(String(e))))}function t_({buttonLabel:t,onClick:e}){function n(s){e&&e(s)}const r=Y("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},e_().el,t?Y("span",{className:"widget__actor__text"},t):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function n_({label:t}){return{el:Y("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}function Tr(t,e){const n=t.get(e);return typeof n=="string"?n.trim():""}function r_({nameLabel:t,namePlaceholder:e,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,cancelButtonLabel:o,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:f,defaultEmail:h,onCancel:g,onSubmit:_}){const{el:b}=n_({label:a});function y(v){if(v.preventDefault(),v.target instanceof HTMLFormElement)try{if(_){const O=new FormData(v.target),j={name:Tr(O,"name"),email:Tr(O,"email"),message:Tr(O,"message")};_(j)}}catch(O){}}const T=Y("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function M(v){T.textContent=v,T.classList.remove("form__error-container--hidden"),T.setAttribute("aria-hidden","false")}function S(){T.textContent="",T.classList.add("form__error-container--hidden"),T.setAttribute("aria-hidden","true")}const x=Y("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:e,value:f}),w=Y("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:h}),E=Y("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),D=Y("button",{type:"button",className:"btn btn--default","aria-label":o,onClick:v=>{g&&g(v)}},o),H=Y("form",{className:"form",onSubmit:y},[T,c&&Y("label",{htmlFor:"name",className:"form__label"},[Y("span",{className:"form__label__text"},t,l&&Y("span",{className:"form__label__text--required"}," (required)")),x]),!c&&x,u&&Y("label",{htmlFor:"email",className:"form__label"},[Y("span",{className:"form__label__text"},n,d&&Y("span",{className:"form__label__text--required"}," (required)")),w]),!u&&w,Y("label",{htmlFor:"message",className:"form__label"},[Y("span",{className:"form__label__text"},s,Y("span",{className:"form__label__text--required"}," (required)")),E]),Y("div",{className:"btn-group"},[b,D])]);return{get el(){return H},showError:M,hideError:S}}const s_="http://www.w3.org/2000/svg";function i_({colorScheme:t}){const e=o=>nt.document.createElementNS(s_,o),n=me(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=me(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=e("defs"),i=e("style");return t==="system"&&(i.textContent=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),i.textContent=`
    path {
      fill: ${t==="dark"?"#fff":"#362d59"};
    }`,s.append(i),n.append(s),{get el(){return n}}}function o_(h){var g=h,{formTitle:t,showBranding:e,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d}=g,f=ln(g,["formTitle","showBranding","showName","showEmail","isNameRequired","isEmailRequired","colorScheme","defaultName","defaultEmail","onClosed","onCancel","onSubmit"]);let _=null;function b(){y(),u&&u()}function y(){_&&(_.open=!1)}function T(){_&&(_.open=!0)}function M(){return _&&_.open===!0||!1}const{el:S,showError:x,hideError:w}=r_(p({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l},f));return _=Y("dialog",{className:"dialog",open:!0,onClick:b},Y("div",{className:"dialog__content",onClick:E=>{E.stopPropagation()}},Y("h2",{className:"dialog__header"},t,e&&Y("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},i_({colorScheme:o}).el)),S)),{get el(){return _},showError:x,hideError:w,open:T,close:y,checkIsOpen:M}}const En=16,Ji=17,a_="http://www.w3.org/2000/svg";function c_(){const t=c=>nt.document.createElementNS(a_,c),e=me(t("svg"),{class:"success-icon",width:`${En}`,height:`${Ji}`,viewBox:`0 0 ${En} ${Ji}`,fill:"none"}),n=me(t("g"),{clipPath:"url(#clip0_57_156)"}),r=me(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=me(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(s,r);const i=t("defs"),o=me(t("clipPath"),{id:"clip0_57_156"}),a=me(t("rect"),{width:`${En}`,height:`${En}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(a),{get el(){return e}}}function u_({message:t,onRemove:e}){function n(){r&&(r.remove(),e&&e())}const r=Y("div",{className:"success-message",onClick:n},c_().el,t);return{el:r,remove:n}}function Zi(s){var i=s,{shadow:t,options:o}=i,a=o,{shouldCreateActor:e=!0}=a,n=ln(a,["shouldCreateActor"]),{attachTo:r}=i;let c,u,l=!1;function d(){if(t)try{const S=u_({message:n.successMessageText,onRemove:()=>{x&&clearTimeout(x),h()}});if(!S.el)throw new Error("Unable to show success message");t.appendChild(S.el);const x=setTimeout(()=>{S&&S.remove()},5e3)}catch(S){m.error(S)}}function f(S){return A(this,null,function*(){if(!u)return;const x=[];if(n.isNameRequired&&!S.name&&x.push(n.nameLabel),n.isEmailRequired&&!S.email&&x.push(n.emailLabel),S.message||x.push(n.messageLabel),x.length>0){u.showError(`Please enter in the following required fields: ${x.join(", ")}`);return}if(!(yield Zg(u,S))){n.onSubmitError&&n.onSubmitError();return}T(),d(),n.onSubmitSuccess&&n.onSubmitSuccess()})}function h(){c&&c.show()}function g(){c&&c.hide()}function _(){c&&c.el&&c.el.remove()}function b(){try{if(u){u.open(),l=!0,n.onFormOpen&&n.onFormOpen();return}const S=n.useSentryUser,x=C().getScope(),w=x&&x.getUser();if(u=o_({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:S&&w&&w[S.name]||"",defaultEmail:S&&w&&w[S.email]||"",onClosed:()=>{h(),l=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{y(),h()},onSubmit:f}),!u.el)throw new Error("Unable to open Feedback dialog");t.appendChild(u.el),g(),n.onFormOpen&&n.onFormOpen()}catch(S){m.error(S)}}function y(){u&&(u.close(),l=!1,n.onFormClose&&n.onFormClose())}function T(){if(u){y();const S=u.el;S&&S.remove(),u=void 0}}function M(){l||b(),g()}return r?r.addEventListener("click",M):e&&(c=t_({buttonLabel:n.buttonLabel,onClick:M}),c.el&&t.appendChild(c.el)),{get actor(){return c},get dialog(){return u},showActor:h,hideActor:g,removeActor:_,openDialog:b,closeDialog:y,removeDialog:T}}const vn=nt.document;class ar{static __initStatic(){this.id="Feedback"}constructor({id:e="sentry-feedback",showBranding:n=!0,autoInject:r=!0,showEmail:s=!0,showName:i=!0,useSentryUser:o={email:"email",name:"username"},isEmailRequired:a=!1,isNameRequired:c=!1,themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=Ng,cancelButtonLabel:h=Lg,submitButtonLabel:g=Pg,formTitle:_=Fg,emailPlaceholder:b=$g,emailLabel:y=Bg,messagePlaceholder:T=Hg,messageLabel:M=Ug,namePlaceholder:S=jg,nameLabel:x=zg,successMessageText:w=Wg,onFormClose:E,onFormOpen:D,onSubmitError:H,onSubmitSuccess:v}={}){this.name=ar.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:e,showBranding:n,autoInject:r,isEmailRequired:a,isNameRequired:c,showEmail:s,showName:i,useSentryUser:o,colorScheme:d,themeDark:p(p({},Vi.dark),u),themeLight:p(p({},Vi.light),l),buttonLabel:f,cancelButtonLabel:h,submitButtonLabel:g,formTitle:_,emailLabel:y,emailPlaceholder:b,messageLabel:M,messagePlaceholder:T,nameLabel:x,namePlaceholder:S,successMessageText:w,onFormClose:E,onFormOpen:D,onSubmitError:H,onSubmitSuccess:v}}setupOnce(){if(Ar())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){lt&&m.error(e)}}openDialog(){this._widget||this._createWidget(I(p({},this.options),{shouldCreateActor:!1})),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,n){try{const r=Ki(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof e=="string"?vn.querySelector(e):typeof e.addEventListener=="function"?e:null;if(!i)return lt&&m.error("[Feedback] Unable to attach to target element"),null;const o=Zi({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return lt&&m.error(r),null}}createWidget(e){try{return this._createWidget(Ki(this.options,e||{}))}catch(n){return lt&&m.error(n),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(n){lt&&m.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=vn.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,({shadow:n})=>{const r=Zi({shadow:n,options:e});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(Vg(vn)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(e,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=e,{shadow:u,host:l}=Jg({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&vn.body.appendChild(this._host),s}}ar.__initStatic();function tn(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function l_(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=tn(n);return s=>r.then(i=>s(i.transaction(e,"readwrite").objectStore(e)))}function Ec(t){return tn(t.getAllKeys())}function d_(t,e,n){return t(r=>Ec(r).then(s=>{if(!(s.length>=n))return r.put(e,Math.max(...s,0)+1),tn(r.transaction)}))}function f_(t){return t(e=>Ec(e).then(n=>{if(n.length!==0)return tn(e.get(n[0])).then(r=>(e.delete(n[0]),tn(e.transaction).then(()=>r)))}))}function h_(t){let e;function n(){return e==null&&(e=l_(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:r=>A(this,null,function*(){try{const s=yield Co(r,t.textEncoder);yield d_(n(),s,t.maxQueueSize||30)}catch(s){}}),pop:()=>A(this,null,function*(){try{const r=yield f_(n());if(r)return Hu(r,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(r){}})}}function p_(t){return e=>t(I(p({},e),{createStore:h_}))}function m_(t){return p_(td(t))}const Qi=1e6,Rn=String(0),g_="main";let vc="",Tc="",wc="",Qr=R.navigator&&R.navigator.userAgent||"",kc="";const __=R.navigator&&R.navigator.language||R.navigator&&R.navigator.languages&&R.navigator.languages[0]||"";function y_(t){return typeof t=="object"&&t!==null&&"getHighEntropyValues"in t}const eo=R.navigator&&R.navigator.userAgentData;y_(eo)&&eo.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(t=>{if(vc=t.platform||"",wc=t.architecture||"",kc=t.model||"",Tc=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];Qr=`${e.brand} ${e.version}`}}).catch(t=>{});function S_(t){return!("thread_metadata"in t)}function b_(t){return S_(t)?T_(t):t}function E_(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return typeof e=="string"&&e.length!==32&&B&&m.log(`[Profiling] Invalid traceId: ${e} on profiled event`),typeof e!="string"?"":e}function v_(t,e,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=E_(r),i=b_(n),o=e||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:t,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Yn,runtime:{name:"javascript",version:R.navigator.userAgent},os:{name:vc,version:Tc,build_number:Qr},device:{locale:__,model:kc,manufacturer:Qr,architecture:wc,is_emulator:!1},debug_meta:{images:I_(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||oe(),trace_id:s,active_thread_id:Rn,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function Ic(t){return t.op==="pageload"}function T_(t){let e,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Rn]:{name:g_}}};if(!t.samples.length)return r;const s=t.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:ge||0,o=i-(ge||i);for(let a=0;a<t.samples.length;a++){const c=t.samples[a];if(c.stackId===void 0){e===void 0&&(e=n,r.stacks[e]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+o-s)*Qi).toFixed(0),stack_id:e,thread_id:Rn};continue}let u=t.stacks[c.stackId];const l=[];for(;u;){l.push(u.frameId);const f=t.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?t.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:t.stacks[u.parentId]}const d={elapsed_since_start_ns:((c.timestamp+o-s)*Qi).toFixed(0),stack_id:n,thread_id:Rn};r.stacks[n]=l,r.samples[a]=d,n++}return r}function w_(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n]);return t}function k_(t){const e=[];return yt(t,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&e.push(n[s])}}),e}const to=new WeakMap;function I_(t){const e=P._sentryDebugIds;if(!e)return[];const n=C();if(!n)return[];const r=n.getClient();if(!r)return[];const s=r.getOptions();if(!s)return[];const i=s.stackParser;if(!i)return[];let o;const a=to.get(i);a?o=a:(o=new Map,to.set(i,o));const c=Object.keys(e).reduce((l,d)=>{let f;const h=o.get(d);h?f=h:(f=i(d),o.set(d,f));for(let g=f.length-1;g>=0;g--){const _=f[g],b=_&&_.filename;if(_&&b){l[b]=e[d];break}}return l},{}),u=[];for(const l of t)l&&c[l]&&u.push({type:"sourcemap",code_file:l,debug_id:c[l]});return u}function R_(t){return typeof t!="number"&&typeof t!="boolean"||typeof t=="number"&&isNaN(t)?(B&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t===!0||t===!1?!0:t<0||t>1?(B&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function C_(t){return t.samples.length<2?(B&&m.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):t.frames.length?!0:(B&&m.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Rc=!1;const Cc=3e4;function x_(t){return typeof t=="function"}function O_(){const t=R.Profiler;if(!x_(t)){B&&m.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const e=10,n=Math.floor(Cc/e);try{return new t({sampleInterval:e,maxBufferSize:n})}catch(r){B&&(m.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),m.log("[Profiling] Disabling profiling for current user session.")),Rc=!0}}function es(t){if(Rc)return B&&m.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.sampled)return B&&m.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=fe(),n=e&&e.getOptions();if(!n)return B&&m.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return R_(r)?r?(r===!0?!0:Math.random()<r)?!0:(B&&m.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(B&&m.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(B&&m.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function M_(t,e,n,r){return C_(n)?v_(t,e,n,r):null}const Ke=new Map;function D_(){return Ke.size}function A_(t){const e=Ke.get(t);return e&&Ke.delete(t),e}function N_(t,e){if(Ke.set(t,e),Ke.size>30){const n=Ke.keys().next().value;Ke.delete(n)}}function L_(t){return t?es(t)?ts(t):t:(B&&m.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function ts(t){let e;Ic(t)&&(e=We()*1e3);const n=O_();if(!n)return t;B&&m.log(`[Profiling] started profiling transaction: ${t.name||t.description}`);const r=oe();function s(){return A(this,null,function*(){return!t||!n?null:n.stop().then(c=>(i&&(R.clearTimeout(i),i=void 0),B&&m.log(`[Profiling] stopped profiling of transaction: ${t.name||t.description}`),c?(N_(r,c),null):(B&&m.log(`[Profiling] profiler returned null profile for: ${t.name||t.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(B&&m.log("[Profiling] error while stopping profiler:",c),null))})}let i=R.setTimeout(()=>{B&&m.log("[Profiling] max profile duration elapsed, stopping profiling for:",t.name||t.description),s()},Cc);const o=t.finish.bind(t);function a(){return t?(s().then(()=>{t.setContext("profile",{profile_id:r,start_timestamp:e}),o()},()=>{o()}),t):o()}return t.finish=a,t}class cr{static __initStatic(){this.id="BrowserProfilingIntegration"}constructor(){this.name=cr.id}setupOnce(e,n){this.getCurrentHub=n;const r=this.getCurrentHub(),s=r.getClient(),o=r.getScope().getTransaction();o&&Ic(o)&&es(o)&&ts(o),s&&typeof s.on=="function"?(s.on("startTransaction",a=>{es(a)&&ts(a)}),s.on("beforeEnvelope",a=>{if(!D_())return;const c=k_(a);if(!c.length)return;const u=[];for(const l of c){const d=l&&l.contexts,f=d&&d.profile&&d.profile.profile_id,h=d&&d.profile&&d.profile.start_timestamp;if(typeof f!="string"){B&&m.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!f){B&&m.log("[Profiling] cannot find profile for a transaction without a profile context");continue}d&&d.profile&&delete d.profile;const g=A_(f);if(!g){B&&m.log(`[Profiling] Could not retrieve profile for transaction: ${f}`);continue}const _=M_(f,h,g,l);_&&u.push(_)}w_(a,u)})):m.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}cr.__initStatic();let xc={};R.Sentry&&R.Sentry.Integrations&&(xc=R.Sentry.Integrations);const P_=p(p(p({},xc),_d),Of),F_=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:Ft,BrowserClient:sa,BrowserProfilingIntegration:cr,BrowserTracing:xa,Dedupe:Pt,Feedback:ar,FunctionToString:Ot,GlobalHandlers:qe,HttpContext:Lt,Hub:fs,InboundFilters:Mt,Integrations:P_,LinkedErrors:Nt,ModuleMetadata:Xn,Replay:or,SDK_VERSION:Ur,Scope:Me,TryCatch:At,WINDOW:R,addBreadcrumb:yl,addEventProcessor:Ko,addGlobalEventProcessor:Ao,addIntegration:Gl,addTracingExtensions:ms,captureEvent:gl,captureException:Kn,captureMessage:ml,captureUserFeedback:xf,chromeStackLineParser:aa,close:Il,configureScope:_l,continueTrace:Ll,createTransport:ys,createUserFeedbackEnvelope:ra,defaultIntegrations:_a,defaultRequestInstrumentationOptions:An,defaultStackLineParsers:la,defaultStackParser:da,eventFromException:ta,eventFromMessage:na,exceptionFromError:Ss,extractTraceparentData:tl,flush:kl,forceLoad:kf,geckoStackLineParser:ca,getActiveSpan:jo,getActiveTransaction:tt,getClient:fe,getCurrentHub:C,getHubFromCarrier:On,init:ya,instrumentOutgoingRequests:Ca,lastEventId:Rl,makeBrowserOfflineTransport:m_,makeFetchTransport:ia,makeMain:Br,makeMultiplexedTransport:rd,makeXHRTransport:oa,onLoad:If,onProfilingStartRouteTransaction:L_,opera10StackLineParser:Jd,opera11StackLineParser:ef,setContext:Bo,setExtra:bl,setExtras:Sl,setMeasurement:Pl,setTag:vl,setTags:El,setUser:Tl,showReportDialog:wf,spanStatusfromHttpCode:Fo,startInactiveSpan:Nl,startSpan:Dl,startSpanManual:Al,startTransaction:wl,trace:Ml,winjsStackLineParser:ua,withScope:Ho,wrap:Rf},Symbol.toStringTag,{value:"Module"})),$_=xa;(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&gh();window.sentry=F_;function j_({dsn:t}={}){ya({dsn:t,release:Pc,integrations:[new $_]})}export{j_ as setupSentry};
//# sourceMappingURL=lazy-sentry-3177e6b8.js.map
